{"version":3,"file":"main.js","mappings":"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","sources":["./src/parsecs/app/app.component.ts","./src/parsecs/app/app.component.html","./src/parsecs/app/app.module.ts","./src/parsecs/app/routes/home/home.route.ts","./src/parsecs/app/routes/home/home.route.html","./src/parsecs/app/routes/home/index.ts","./src/parsecs/app/routes/index.ts","./src/parsecs/environments/environment.ts","./src/parsecs/main.ts","./src/core/src/components/core/expand-panel.component.html","./src/core/src/components/core/expand-panel.component.ts","./src/core/src/components/ship/ship-display.component.ts","./src/core/src/components/ship/ship-display.component.html","./src/core/src/components/character/character-display.component.ts","./src/core/src/components/character/character-display.component.html","./src/core/src/components/campaign/campaign-card.component.html","./src/core/src/components/campaign/campaign-card.component.ts","./src/core/src/components/campaign/index.ts","./src/core/src/components/character/index.ts","./src/core/src/components/core/file-upload.component.html","./src/core/src/components/core/file-upload.component.ts","./src/core/src/components/core/index.ts","./src/core/src/components/ship/index.ts","./src/core/src/components/index.ts","./src/core/src/dialogs/confirm/confirm.dialog.ts","./src/core/src/dialogs/confirm/confirm.dialog.html","./src/core/src/dialogs/index.ts","./src/core/src/directives/backdrop.directive.ts","./src/core/src/directives/index.ts","./src/core/src/game/core/utils/strings.ts","./src/core/src/game/core/datalist.ts","./src/core/src/game/core/dice.ts","./src/core/src/game/core/generator.ts","./src/core/src/game/core/key-value.ts","./src/core/src/game/core/store-manager.ts","./src/core/src/game/enums/index.ts","./src/core/src/game/models/campaign/victory-condition.ts","./src/core/src/game/data/campaign.data.ts","./src/core/src/game/models/equipment/equipment.ts","./src/core/src/game/data/equipment.data.ts","./src/core/src/game/generators/equipment.generator.ts","./src/core/src/game/models/equipment/weapon.ts","./src/core/src/game/data/weapon.data.ts","./src/core/src/game/generators/weapon.generator.ts","./src/core/src/game/models/campaign/campaign-resource.ts","./src/core/src/game/models/character/character-profile.ts","./src/core/src/game/models/character/character.ts","./src/core/src/game/models/character/character-detail.ts","./src/core/src/game/data/character.data.ts","./src/core/src/game/models/ship.ts","./src/core/src/game/data/ship.data.ts","./src/core/src/game/generators/character.generator.ts","./src/core/src/game/generators/ship.generator.ts","./src/core/src/game/models/crew.ts","./src/core/src/game/models/campaign/campaign.ts","./src/core/src/game/models/campaign/campaign-config.ts","./src/core/src/pipes/bytes.pipe.ts","./src/core/src/pipes/truncate.pipe.ts","./src/core/src/pipes/index.ts","./src/core/src/services/core.service.ts","./src/core/src/services/snacker.service.ts","./src/core/src/services/theme.service.ts","./src/core/src/material.module.ts","./src/core/src/core.module.ts","./src/core/src/core.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\nimport {\r\n  ThemeService\r\n} from 'core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: 'app.component.html'\r\n})\r\nexport class AppComponent {\r\n  constructor(\r\n    public themer: ThemeService\r\n  ) { }\r\n}\r\n","<section class=\"mat-typography mat-app-background full-height\"\r\n         [ngClass]=\"themer.isLight ? 'app-light' : 'app-dark'\">\r\n  <section fxLayout=\"row\"\r\n           fxLayoutAlign=\"start center\"\r\n           class=\"sticky-top p4\">\r\n    <h1 class=\"mat-title m4\"\r\n        fxFlex>Parsecs</h1>\r\n    <button mat-icon-button\r\n            class=\"m4\"\r\n            [ngClass]=\"themer.isLight ? 'color-amber': 'color-text'\"\r\n            (click)=\"themer.toggleTheme()\">\r\n      <mat-icon>\r\n        {{themer.isLight ? 'brightness_5' : 'brightness_3'}}\r\n      </mat-icon>\r\n    </button>\r\n  </section>\r\n  <section class=\"app-container\">\r\n    <router-outlet></router-outlet>\r\n  </section>\r\n</section>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CoreModule } from 'core';\r\nimport { AppComponent } from './app.component';\r\n\r\nimport {\r\n  RouteComponents,\r\n  Routes\r\n} from './routes';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    ...RouteComponents\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    FormsModule,\r\n    CoreModule,\r\n    RouterModule.forRoot(Routes)\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import {\r\n  Component,\r\n  OnInit\r\n} from '@angular/core';\r\n\r\nimport {\r\n  Campaign,\r\n  CampaignConfig,\r\n  StoreManager\r\n} from 'core';\r\n\r\n@Component({\r\n  selector: 'home-route',\r\n  templateUrl: 'home.route.html'\r\n})\r\nexport class HomeRoute implements OnInit {\r\n  name: string = 'Onyx Dawn';\r\n  cardSize: number | string = 'auto';\r\n  store: StoreManager<Campaign> = new StoreManager('parsecs', Campaign.Restore);\r\n  data!: Campaign[];\r\n\r\n  ngOnInit() {\r\n    this.initCampaign();\r\n  }\r\n\r\n  initCampaign = () => {\r\n    const c = new CampaignConfig(this.name);\r\n    for (var i = 0; i < c.crew.roster.length; i++)\r\n      c.crew.roster[i].name = `Character ${i}`;\r\n\r\n    c.leader = c.crew.roster[0];\r\n    c.victory = c.victoryConditions[0].value;\r\n\r\n    const campaign = c.finalize();\r\n    this.store.save(campaign.name, campaign);\r\n    this.data = this.store.getAll();\r\n  }\r\n\r\n  uploadSaves = (files: FileList) => {\r\n    if (files.length > 0) {\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = (e: any) => {\r\n        this.store.upload(e.target.result);\r\n        this.data = this.store.getAll();\r\n      }\r\n\r\n      reader.readAsText(files[0]);\r\n    }\r\n  }\r\n\r\n  clearCampaigns = () => {\r\n    this.store.clear();\r\n    this.data = this.store.getAll();\r\n  }\r\n\r\n  deleteCampaign = (name: string) => {\r\n    this.store.delete(name);\r\n    this.data = this.store.getAll();\r\n  }\r\n}\r\n","<section fxLayout=\"column\"\r\n         fxLayoutAlign=\"start stretch\"\r\n         class=\"p8\">\r\n  <section fxLayout=\"column\"\r\n           fxLayoutAlign=\"start stretch\"\r\n           class=\"m4 p4\">\r\n    <p class=\"mat-title m4\">Generate Campaign</p>\r\n    <div fxLayout=\"row\"\r\n         fxLayoutAlign=\"start center\"\r\n         class=\"p4\">\r\n      <mat-form-field class=\"m4\"\r\n                      fxFlex>\r\n        <mat-label>Campaign Name</mat-label>\r\n        <input matInput\r\n               [(ngModel)]=\"name\" />\r\n      </mat-form-field>\r\n      <button mat-stroked-button\r\n              class=\"m4\"\r\n              (click)=\"initCampaign()\">Generate Campaign</button>\r\n    </div>\r\n    <div fxLayout=\"row\"\r\n         fxLayoutAlign=\"start center\"\r\n         class=\"p4\">\r\n      <button mat-stroked-button\r\n              class=\"m4\"\r\n              (click)=\"store.download()\">\r\n        Download Saves\r\n      </button>\r\n      <file-upload class=\"m4\"\r\n                   label=\"Upload Campaigns\"\r\n                   [accept]=\"store.prefix\"\r\n                   [useDrop]=\"false\"\r\n                   (loaded)=\"uploadSaves($event)\"></file-upload>\r\n      <button mat-stroked-button\r\n              class=\"m4\"\r\n              color=\"warn\"\r\n              (click)=\"clearCampaigns()\">Clear Saves</button>\r\n    </div>\r\n    <section fxLayout=\"column\"\r\n             fxLayoutAlign=\"start stretch\"\r\n             class=\"p4\">\r\n      <p class=\"mat-title m4\">Saved Campaigns</p>\r\n      <section *ngIf=\"data && data.length > 0\"\r\n               fxLayout=\"row | wrap\"\r\n               fxLayoutAlign=\"start start\"\r\n               fxLayoutGap=\"4px\"\r\n               class=\"p4\">\r\n        <campaign-card *ngFor=\"let c of data\"\r\n                       [campaign]=\"c\"\r\n                       (remove)=\"deleteCampaign(c.name)\"></campaign-card>\r\n      </section>\r\n      <p *ngIf=\"!(data.length > 0)\"\r\n         class=\"mat-subheading-1 m4\">No Campaigns Available</p>\r\n    </section>\r\n  </section>\r\n</section>\r\n","export * from './home.route';\r\n","import { Route } from '@angular/router';\r\nimport { HomeRoute } from './home';\r\n\r\nexport const RouteComponents = [\r\n  HomeRoute\r\n]\r\n\r\nexport const Routes: Route[] = [\r\n  { path: '', component: HomeRoute },\r\n  { path: '**', redirectTo: '', pathMatch: 'full' }\r\n]\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","<section fxLayout=\"column\"\r\n         fxLayoutAlign=\"start stretch\"\r\n         class=\"cursor-pointer\"\r\n         [ngClass]=\"cardStyle\"\r\n         (click)=\"toggle()\">\r\n  <section fxLayout=\"row\"\r\n           fxLayoutAlign=\"space-between center\">\r\n    <h3 class=\"mat-subheading-1 bold my4 mx8\">{{label}}</h3>\r\n    <mat-icon class=\"my4 mx8\">{{icon()}}</mat-icon>\r\n  </section>\r\n  <ng-content *ngIf=\"show\"></ng-content>\r\n</section>","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'expand-panel',\r\n  templateUrl: 'expand-panel.component.html'\r\n})\r\nexport class ExpandPanelComponent {\r\n  @Input() label: string = 'Title';\r\n  @Input() cardStyle: string = 'background-default';\r\n  @Input() collapsedIcon: string = 'keyboard_arrow_up';\r\n  @Input() expandedIcon: string = 'keyboard_arrow_down';\r\n\r\n  @Input() show = false;\r\n  @Output() expand = new EventEmitter();\r\n\r\n  icon = () => this.show\r\n    ? this.expandedIcon\r\n    : this.collapsedIcon;\r\n\r\n  toggle = () => {\r\n    this.show = !this.show;\r\n\r\n    if (this.show)\r\n      this.expand.emit();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input\r\n} from '@angular/core';\r\n\r\nimport { Ship } from '../../game';\r\n\r\n@Component({\r\n  selector: 'ship-display',\r\n  templateUrl: 'ship-display.component.html'\r\n})\r\nexport class ShipDisplayComponent {\r\n  @Input() ship!: Ship;\r\n  @Input() size: number = 408;\r\n  @Input() cardStyle: string = 'rounded card-outline-accent background-card p4';\r\n\r\n  trait = () => this.ship.trait\r\n    ? this.ship.trait.split(':')[0]\r\n    : `No Trait`;\r\n}\r\n","<section fxLayout=\"column\"\r\n         fxLayoutAlign=\"start stretch\"\r\n         [class]=\"cardStyle\"\r\n         [style.width.px]=\"size\">\r\n  <section fxLayout=\"row\"\r\n           fxLayoutAlign=\"space-between center\">\r\n    <p class=\"mat-body-strong m4\">{{ship.model}}</p>\r\n    <p class=\"m4\">Hull: {{ship.hull}}</p>\r\n  </section>\r\n  <section fxLayout=\"row\"\r\n           fxLayoutAlign=\"space-between center\">\r\n    <p class=\"m4\">{{ship.debt}}</p>\r\n    <p class=\"m4\">{{trait()}}</p>\r\n  </section>\r\n</section>\r\n","import {\r\n  Component,\r\n  Input\r\n} from '@angular/core';\r\n\r\nimport { Character } from '../../game';\r\n\r\n@Component({\r\n  selector: 'character-display',\r\n  templateUrl: 'character-display.component.html'\r\n})\r\nexport class CharacterDisplayComponent {\r\n  @Input() character!: Character;\r\n  @Input() size: number = 408;\r\n  @Input() cardStyle: string = 'rounded card-outline-accent background-card p4';\r\n\r\n  race = () => `${this.character.race} - ${this.character.species}`;\r\n}\r\n","<section fxLayout=\"column\"\r\n         fxLayoutAlign=\"start stretch\"\r\n         [class]=\"cardStyle\"\r\n         [style.width.px]=\"size\">\r\n  <section fxLayout=\"row\"\r\n           fxLayoutAlign=\"space-between center\">\r\n    <p class=\"mat-body-strong m4\">{{character.name}}</p>\r\n    <p class=\"m4\">Hull: {{race()}}</p>\r\n  </section>\r\n  <section fxLayout=\"row\"\r\n           fxLayoutAlign=\"space-between center\">\r\n    <p class=\"m4\">{{character.motivation}}</p>\r\n    <p class=\"m4\">{{character.charClass}}</p>\r\n  </section>\r\n  <p class=\"m4\">{{character.background}}</p>\r\n</section>\r\n","<section fxLayout=\"column\"\r\n         fxLayoutAlign=\"start stretch\"\r\n         [class]=\"cardStyle\"\r\n         [style.width.px]=\"size\">\r\n  <section fxLayout=\"row\"\r\n           fxLayoutAlign=\"start center\"\r\n           class=\"p4 rounded-top\">\r\n    <h2 class=\"mat-subheading-2 m4\"\r\n        fxFlex>{{campaign.name}}</h2>\r\n    <button mat-icon-button\r\n            color=\"warn\"\r\n            matTooltip=\"Delete Campaign\"\r\n            (click)=\"remove.emit(campaign)\">\r\n      <mat-icon>delete</mat-icon>\r\n    </button>\r\n    <button mat-icon-button\r\n            matTooltip=\"Play Campaign\"\r\n            (click)=\"select.emit(campaign)\">\r\n      <mat-icon>play_circle_outline</mat-icon>\r\n    </button>\r\n  </section>\r\n  <section class=\"p4\"\r\n           fxLayout=\"row\"\r\n           fxLayoutAlign=\"space-between center\">\r\n    <p class=\"m4\">Difficulty: {{campaign.difficulty}}</p>\r\n    <p class=\"m4\">Victory: {{victory()}}</p>\r\n  </section>\r\n  <section class=\"p4\"\r\n           gdRows=\"auto auto\"\r\n           gdAlignColumns=\"start stretch\"\r\n           gdAlignRows=\"space-between stretch\"\r\n           gdAreas=\"crewSize credits storyPoints | rumors patrons rivals\">\r\n    <p gdArea=\"crewSize\"\r\n       class=\"m4\">Crew Size: {{campaign.crewSize}}</p>\r\n    <p gdArea=\"credits\"\r\n       class=\"m4\">Credits: {{campaign.resources.credits}}</p>\r\n    <p gdArea=\"storyPoints\"\r\n       class=\"m4\">Story Points: {{storyPoints()}}</p>\r\n    <p gdAreas=\"rumors\"\r\n       class=\"m4\">Rumors: {{campaign.resources.rumors}}</p>\r\n    <p gdAreas=\"patrons\"\r\n       class=\"m4\">Patrons: {{campaign.resources.patrons}}</p>\r\n    <p gdAreas=\"rivals\"\r\n       class=\"m4\">Rivals: {{campaign.resources.rivals}}</p>\r\n  </section>\r\n  <expand-panel label=\"Ship\">\r\n    <section fxLayout=\"column\"\r\n             fxLayoutAlign=\"start center\"\r\n             class=\"p4\">\r\n      <ship-display [ship]=\"campaign.ship\"></ship-display>\r\n    </section>\r\n  </expand-panel>\r\n  <expand-panel label=\"Crew\"\r\n                cardStyle=\"background-default rounded-bottom\">\r\n    <section fxLayout=\"column\"\r\n             fxLayoutAlign=\"start center\"\r\n             class=\"p4\">\r\n      <character-display *ngFor=\"let c of campaign.crew.roster\"\r\n                         [character]=\"c\"></character-display>\r\n    </section>\r\n  </expand-panel>\r\n</section>\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\nimport { Campaign } from '../../game';\r\n\r\n@Component({\r\n  selector: 'campaign-card',\r\n  templateUrl: 'campaign-card.component.html'\r\n})\r\nexport class CampaignCardComponent {\r\n  @Input() campaign!: Campaign;\r\n  @Input() size: number = 420;\r\n  @Input() cardStyle: string = 'background-card card-outline-accent rounded';\r\n\r\n  @Output() remove = new EventEmitter<Campaign>();\r\n  @Output() select = new EventEmitter<Campaign>();\r\n\r\n  showShip: boolean = false;\r\n  showCrew: boolean = false;\r\n\r\n  victory = () => this.campaign.victory\r\n    ? `${this.campaign.victory.iterations} - ${this.campaign.victory.type}`\r\n    : `No Victory Condition Set`;\r\n\r\n  storyPoints = () => this.campaign.useStory\r\n    ? `${this.campaign.resources.storyPoints}`\r\n    : `Story Not Enabled`;\r\n\r\n  toggleShip = () => this.showShip = !this.showShip;\r\n}\r\n","import { CampaignCardComponent } from './campaign-card.component';\r\n\r\nexport const CampaignComponents = [\r\n  CampaignCardComponent\r\n];\r\n\r\nexport * from './campaign-card.component';\r\n","import { CharacterDisplayComponent } from './character-display.component';\r\n\r\nexport const CharacterComponents = [\r\n  CharacterDisplayComponent\r\n];\r\n\r\nexport * from './character-display.component';\r\n","<input #fileInput\r\n       type=\"file\"\r\n       class=\"no-display\"\r\n       [accept]=\"getAccept()\"\r\n       [multiple]=\"multiple\"\r\n       (change)=\"fileChange($event)\">\r\n<button *ngIf=\"!(useDrop)\"\r\n        mat-stroked-button\r\n        [class]=\"buttonClass\"\r\n        (click)=\"fileInput.click()\">\r\n  {{label}}\r\n</button>\r\n<section fxLayout=\"column\"\r\n         fxLayoutAlign=\"start stretch\"\r\n         *ngIf=\"useDrop\">\r\n  <section class=\"drop-container cursor-pointer\"\r\n           [ngClass]=\"dropStyle\"\r\n           [style.width.px]=\"dropWidth\"\r\n           [style.height.px]=\"dropHeight\"\r\n           (click)=\"fileInput.click()\"\r\n           (drop)=\"drop($event)\"\r\n           (dragover)=\"dragOver($event)\"\r\n           (dragleave)=\"dragLeave($event)\">\r\n    <section fxLayout=\"column\"\r\n             fxLayoutAlign=\"center center\"\r\n             class=\"drop-overlay\"\r\n             [style.opacity]=\"hovered ? .7 : 0\">\r\n      <mat-icon [ngClass]=\"dropIconClass\"\r\n                [style.transform]=\"'scale(' + dropIconScale + ')'\">{{dropIcon}}</mat-icon>\r\n    </section>\r\n  </section>\r\n  <p class=\"m2 mat-caption\"\r\n     fxFlexAlign=\"center\">Click or drop files into the container above</p>\r\n</section>\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  ViewChild\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'file-upload',\r\n  templateUrl: 'file-upload.component.html',\r\n  styleUrls: ['file-upload.component.scss']\r\n})\r\nexport class FileUploadComponent {\r\n  hovered = false;\r\n\r\n  @ViewChild('fileInput') fileInput!: ElementRef<HTMLInputElement>;\r\n\r\n  @Input() useDrop: boolean = true;\r\n  @Input() multiple: boolean = false;\r\n  @Input() accept: string = '*';\r\n\r\n  @Input() label: string = 'Upload';\r\n  @Input() buttonClass: string = 'color-default';\r\n\r\n  @Input() dropWidth: number | string = 'auto';\r\n  @Input() dropHeight: number | string = 140;\r\n  @Input() dropStyle = 'm4 rounded background-stacked card-outline-accent border-x-dashed border-width-2';\r\n\r\n  @Input() dropIconScale: number = 5;\r\n  @Input() dropIcon: string = 'note_add';\r\n  @Input() dropIconClass = 'material-icons-outlined';\r\n\r\n  @Output() loaded = new EventEmitter<FileList>();\r\n\r\n  getAccept = () => this.accept.startsWith('.')\r\n    ? this.accept\r\n    : `.${this.accept}`;\r\n\r\n  fileChange = (event: Event) => {\r\n    const files = (<HTMLInputElement>event.target).files;\r\n\r\n    if (files && files.length > 0) {\r\n      this.loaded.emit(files)\r\n      this.fileInput.nativeElement.value = '';\r\n    }\r\n  }\r\n\r\n  dragOver = (event: Event) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.hovered = true;\r\n  }\r\n\r\n  dragLeave = (event: Event) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.hovered = false;\r\n  }\r\n\r\n  drop = (event: DragEvent) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    const files = event.dataTransfer?.files;\r\n    files && this.loaded.emit(files);\r\n\r\n    this.hovered = false;\r\n  }\r\n}\r\n","import { ExpandPanelComponent } from './expand-panel.component';\r\nimport { FileUploadComponent } from './file-upload.component';\r\n\r\nexport const CoreComponents = [\r\n  ExpandPanelComponent,\r\n  FileUploadComponent\r\n]\r\n\r\nexport * from './expand-panel.component';\r\nexport * from './file-upload.component';\r\n","import { ShipDisplayComponent } from './ship-display.component';\r\n\r\nexport const ShipComponents = [\r\n  ShipDisplayComponent\r\n];\r\n\r\nexport * from './ship-display.component';\r\n","import { CampaignComponents } from './campaign';\r\nimport { CharacterComponents } from './character';\r\nimport { CoreComponents } from './core';\r\nimport { ShipComponents } from './ship';\r\n\r\nexport const Components = [\r\n  ...CampaignComponents,\r\n  ...CharacterComponents,\r\n  ...CoreComponents,\r\n  ...ShipComponents\r\n];\r\n\r\nexport * from './campaign';\r\nexport * from './character';\r\nexport * from './core';\r\nexport * from './ship';\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Inject\r\n} from '@angular/core';\r\n\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'confirm-dialog',\r\n  templateUrl: 'confirm.dialog.html'\r\n})\r\nexport class ConfirmDialog implements OnInit {\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: { title: string, content: string }\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (this.data) {\r\n      this.data.title = this.data.title\r\n        ? this.data.title\r\n        : 'Confirm Action?';\r\n\r\n      this.data.content = this.data.content\r\n        ? this.data.content\r\n        : 'Are you sure you would like to perform this action?';\r\n    } else {\r\n      this.data = {\r\n        title: 'Confirm Action?',\r\n        content: 'Are you sure you would like to perform this action?'\r\n      };\r\n    }\r\n  }\r\n}\r\n","<div class=\"mat-typography\">\r\n  <h2 mat-dialog-title>{{data?.title}}</h2>\r\n  <mat-dialog-content>\r\n    <p>{{data?.content}}</p>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button mat-button\r\n            [mat-dialog-close]=\"false\">Cancel</button>\r\n    <button mat-button\r\n            [mat-dialog-close]=\"true\"\r\n            color=\"warn\">Confirm</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { ConfirmDialog } from './confirm';\r\n\r\nexport const Dialogs = [\r\n  ConfirmDialog\r\n];\r\n\r\nexport * from './confirm';\r\n","import {\r\n  Directive,\r\n  OnInit,\r\n  ElementRef,\r\n  Input,\r\n  HostListener\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[backdrop]'\r\n})\r\nexport class BackdropDirective implements OnInit {\r\n  @Input() filters: string = 'blur(30px) brightness(1.8)';\r\n  @Input() hover: string = 'blur(30px) brightness(1.8)';\r\n\r\n  constructor(\r\n    public el: ElementRef\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.el.nativeElement.style.backdropFilter = this.filters;\r\n    this.el.nativeElement.classList.add('backdropped');\r\n  }\r\n\r\n  @HostListener('mouseenter') onMouseEnter() {\r\n    this.el.nativeElement.style.backdropFilter = this.hover;\r\n  }\r\n\r\n  @HostListener('mouseleave') onMouseLeave() {\r\n    this.el.nativeElement.style.backdropFilter = this.filters;\r\n  }\r\n}\r\n","import { BackdropDirective } from './backdrop.directive';\r\n\r\nexport const Directives = [\r\n  BackdropDirective\r\n];\r\n\r\nexport * from './backdrop.directive';\r\n","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nconst STRING_DASHERIZE_REGEXP = /[ _]/g;\r\nconst STRING_DECAMELIZE_REGEXP = /([a-z\\d])([A-Z])/g;\r\nconst STRING_CAMELIZE_REGEXP = /(-|_|\\.|\\s)+(.)?/g;\r\nconst STRING_UNDERSCORE_REGEXP_1 = /([a-z\\d])([A-Z]+)/g;\r\nconst STRING_UNDERSCORE_REGEXP_2 = /-|\\s+/g;\r\n\r\n/**\r\n * Converts a camelized string into all lower case separated by underscores.\r\n *\r\n ```javascript\r\n decamelize('innerHTML');         // 'inner_html'\r\n decamelize('action_name');       // 'action_name'\r\n decamelize('css-class-name');    // 'css-class-name'\r\n decamelize('my favorite items'); // 'my favorite items'\r\n ```\r\n\r\n @method decamelize\r\n @param {String} str The string to decamelize.\r\n @return {String} the decamelized string.\r\n */\r\nexport function decamelize(str: string): string {\r\n  return str.replace(STRING_DECAMELIZE_REGEXP, '$1_$2').toLowerCase();\r\n}\r\n\r\n/**\r\n Replaces underscores, spaces, or camelCase with dashes.\r\n\r\n ```javascript\r\n dasherize('innerHTML');         // 'inner-html'\r\n dasherize('action_name');       // 'action-name'\r\n dasherize('css-class-name');    // 'css-class-name'\r\n dasherize('my favorite items'); // 'my-favorite-items'\r\n ```\r\n\r\n @method dasherize\r\n @param {String} str The string to dasherize.\r\n @return {String} the dasherized string.\r\n */\r\nexport function dasherize(str: string): string {\r\n  return decamelize(str).replace(STRING_DASHERIZE_REGEXP, '-');\r\n}\r\n\r\n/**\r\n Returns the lowerCamelCase form of a string.\r\n\r\n ```javascript\r\n camelize('innerHTML');          // 'innerHTML'\r\n camelize('action_name');        // 'actionName'\r\n camelize('css-class-name');     // 'cssClassName'\r\n camelize('my favorite items');  // 'myFavoriteItems'\r\n camelize('My Favorite Items');  // 'myFavoriteItems'\r\n ```\r\n\r\n @method camelize\r\n @param {String} str The string to camelize.\r\n @return {String} the camelized string.\r\n */\r\nexport function camelize(str: string): string {\r\n  return str\r\n    .replace(STRING_CAMELIZE_REGEXP, (_match: string, _separator: string, chr: string) => {\r\n      return chr ? chr.toUpperCase() : '';\r\n    })\r\n    .replace(/^([A-Z])/, (match: string) => match.toLowerCase());\r\n}\r\n\r\n/**\r\n Returns the UpperCamelCase form of a string.\r\n\r\n ```javascript\r\n 'innerHTML'.classify();          // 'InnerHTML'\r\n 'action_name'.classify();        // 'ActionName'\r\n 'css-class-name'.classify();     // 'CssClassName'\r\n 'my favorite items'.classify();  // 'MyFavoriteItems'\r\n ```\r\n\r\n @method classify\r\n @param {String} str the string to classify\r\n @return {String} the classified string\r\n */\r\nexport function classify(str: string): string {\r\n  return str\r\n    .split('.')\r\n    .map((part) => capitalize(camelize(part)))\r\n    .join('.');\r\n}\r\n\r\n/**\r\n More general than decamelize. Returns the lower\\_case\\_and\\_underscored\r\n form of a string.\r\n\r\n ```javascript\r\n 'innerHTML'.underscore();          // 'inner_html'\r\n 'action_name'.underscore();        // 'action_name'\r\n 'css-class-name'.underscore();     // 'css_class_name'\r\n 'my favorite items'.underscore();  // 'my_favorite_items'\r\n ```\r\n\r\n @method underscore\r\n @param {String} str The string to underscore.\r\n @return {String} the underscored string.\r\n */\r\nexport function underscore(str: string): string {\r\n  return str\r\n    .replace(STRING_UNDERSCORE_REGEXP_1, '$1_$2')\r\n    .replace(STRING_UNDERSCORE_REGEXP_2, '_')\r\n    .toLowerCase();\r\n}\r\n\r\n/**\r\n Returns the Capitalized form of a string\r\n\r\n ```javascript\r\n 'innerHTML'.capitalize()         // 'InnerHTML'\r\n 'action_name'.capitalize()       // 'Action_name'\r\n 'css-class-name'.capitalize()    // 'Css-class-name'\r\n 'my favorite items'.capitalize() // 'My favorite items'\r\n ```\r\n\r\n @method capitalize\r\n @param {String} str The string to capitalize.\r\n @return {String} The capitalized string.\r\n */\r\nexport function capitalize(str: string): string {\r\n  return str.charAt(0).toUpperCase() + str.substr(1);\r\n}\r\n\r\n/**\r\n Returns the Titlecase form of a string\r\n\r\n ```javascript\r\n 'innerHTML'.titlecase()         // 'Inner HTML'\r\n 'action_name'.titlecase()       // 'Action Name'\r\n 'css-class-name'.titlecase()    // 'Css Class Name'\r\n 'my favorite items'.titlecase() // 'My Favorite Items'\r\n ```\r\n */\r\nexport function titlecase(str: string): string {\r\n  return dasherize(str)\r\n    .split('-')\r\n    .map((part) => capitalize(part))\r\n    .join(' ');\r\n}\r\n","import { titlecase } from './utils';\r\n\r\nexport const Datalist = <T>(data: T) =>\r\n  Object.entries(data)\r\n    .map(([key, value]) => {\r\n      return {\r\n        id: Symbol(key),\r\n        label: titlecase(key),\r\n        value: value\r\n      }\r\n    });\r\n","interface DiceRoll {\r\n  four: number;\r\n  six: number;\r\n  eight: number;\r\n  ten: number;\r\n  twelve: number;\r\n  twenty: number;\r\n  hundred: number;\r\n}\r\n\r\ninterface DieRoll {\r\n  sides: number;\r\n  result: number;\r\n}\r\n\r\nexport interface DiceResult {\r\n  total: number;\r\n  rolls: Array<DieRoll>\r\n}\r\n\r\nexport const die = (sides: number) => () =>\r\n  Math.floor(Math.random() * sides) + 1;\r\n\r\nexport const d4 = die(4);\r\nexport const d6 = die(6);\r\nexport const d8 = die(8);\r\nexport const d10 = die(10);\r\nexport const d12 = die(12);\r\nexport const d20 = die(20);\r\nexport const d100 = die(100);\r\n\r\nexport const dice = ({\r\n  four = 0,\r\n  six = 0,\r\n  eight = 0,\r\n  ten = 0,\r\n  twelve = 0,\r\n  twenty = 0,\r\n  hundred = 0\r\n}: Partial<DiceRoll>): DiceResult => {\r\n  const result = {} as DiceResult;\r\n  result.rolls = new Array();\r\n\r\n  if (four > 0) {\r\n    for (four; four > 0; four--)\r\n      result.rolls.push({ sides: 4, result: d4() })\r\n  }\r\n\r\n  if (six > 0) {\r\n    for (six; six > 0; six--)\r\n      result.rolls.push({ sides: 6, result: d6() })\r\n  }\r\n\r\n  if (eight > 0) {\r\n    for (eight; eight > 0; eight--)\r\n    result.rolls.push({ sides: 8, result: d8() })\r\n  }\r\n\r\n  if (ten > 0) {\r\n    for (ten; ten > 0; ten--)\r\n      result.rolls.push({ sides: 10, result: d10() })\r\n  }\r\n\r\n  if (twelve > 0) {\r\n    for (twelve; twelve > 0; twelve--)\r\n      result.rolls.push({ sides: 12, result: d12() })\r\n  }\r\n\r\n  if (twenty > 0) {\r\n    for (twenty; twenty > 0; twenty--)\r\n      result.rolls.push({ sides: 20, result: d20() })\r\n  }\r\n\r\n  if (hundred > 0) {\r\n    for (hundred; hundred > 0; hundred--)\r\n      result.rolls.push({ sides: 100, result: d100() })\r\n  }\r\n\r\n  result.total = result\r\n    .rolls\r\n    .map((roll: DieRoll) => roll.result)\r\n    .reduce((total: number = 0, current: number) => total + current);\r\n\r\n  return result;\r\n}\r\n","import { Extent } from './types';\r\n\r\nexport class GeneratorOption<T> {\r\n  readonly value: T;\r\n  readonly extent: Extent;\r\n\r\n  constructor(\r\n    extent: Extent,\r\n    value: T,\r\n  ) {\r\n    this.extent = extent;\r\n    this.value = value;\r\n  }\r\n\r\n  selected = (roll: number) =>\r\n    roll >= this.extent[0] && roll <= this.extent[1];\r\n}\r\n\r\nconst validateGenerator = <T>(roll: number, values: Array<GeneratorOption<T>>): boolean =>\r\n  values.some(v => v.selected(roll));\r\n\r\nexport const Generator = <T>(die: () => number, values: Array<GeneratorOption<T>>): T => {\r\n  let roll = die();\r\n\r\n  if (!validateGenerator(roll, values))\r\n    throw new RangeError(`Roll of ${roll} does not fall into the extent of any provided options`);\r\n\r\n  const value = values.find(v => v.selected(roll))?.value;\r\n\r\n  if (value) return value;\r\n\r\n  throw new Error(`Value resulting from roll of ${roll} was undefined`);\r\n}\r\n","export class KeyValue<T> {\r\n  readonly key: string;\r\n  readonly value: T;\r\n\r\n  constructor(key: string, value: T) {\r\n    this.key = key;\r\n    this.value = value;\r\n  }\r\n}\r\n","export class StoreManager<T> {\r\n  readonly prefix: string;\r\n  readonly restore: (data: any) => T;\r\n\r\n  constructor(\r\n    prefix: string,\r\n    restore: (data: any) => T\r\n  ) {\r\n    this.prefix = prefix;\r\n    this.restore = restore;\r\n  }\r\n\r\n  private urlEncode = (value: string): string => {\r\n    const regex = /[^a-zA-Z0-9-.]/gi;\r\n    let newValue = value.replace(/\\s/g, '-').toLowerCase();\r\n    newValue = newValue.replace(regex, '');\r\n    return newValue;\r\n  }\r\n\r\n  private processKey = (value: string): string =>\r\n    value = value.startsWith(this.prefix)\r\n      ? this.urlEncode(value)\r\n      : this.urlEncode(`${this.prefix}-${value}`);\r\n\r\n  private revive = (value: string): T =>\r\n    this.restore(JSON.parse(value));\r\n\r\n  private entries = () =>\r\n    Object.entries(localStorage)\r\n      .filter(([key]) => key.startsWith(this.prefix));\r\n\r\n  private encode = () =>\r\n    encodeURIComponent(JSON.stringify(this.entries()));\r\n\r\n  private verify = (data: ([key: string, value: string])[]) =>\r\n    data.every((d: [key: string, value: string]) => this.revive(d[1]));\r\n\r\n  private store = (data: ([key: string, value: string])[]) =>\r\n    data.forEach((d: [key: string, value: string]) =>\r\n      localStorage.setItem(d[0], d[1])\r\n    );\r\n\r\n  exists = (key: string): boolean =>\r\n    Object.keys(localStorage)\r\n      .some(x => x === this.processKey(key));\r\n\r\n  getAll = (): T[] =>\r\n    this.entries()\r\n      .map(([key, value]) => this.revive(value));\r\n\r\n  get = (key: string): T | null => {\r\n    const item = localStorage.getItem(\r\n      this.processKey(key)\r\n    );\r\n\r\n    return item\r\n      ? this.revive(item)\r\n      : null\r\n  }\r\n\r\n  save = (key: string, data: T) =>\r\n    localStorage.setItem(\r\n      this.processKey(key),\r\n      JSON.stringify(data)\r\n    );\r\n\r\n  clear = () => this.entries()\r\n    .forEach(save => this.delete(save[0]));\r\n\r\n  delete = (key: string) =>\r\n    localStorage.removeItem(\r\n      this.processKey(key)\r\n    );\r\n\r\n  download = () => {\r\n    const link = document.createElement('a');\r\n    link.href = `data:text/plain;charset=utf-8,${this.encode()}`;\r\n    link.download = `data.${this.prefix}`;\r\n    link.target = '_blank';\r\n    link.click();\r\n  }\r\n\r\n  upload = (json: string) => {\r\n    const data = JSON.parse(json);\r\n\r\n    try {\r\n      if (this.verify(data)) {\r\n        this.store(data)\r\n      }\r\n    } catch (ex: any) {\r\n      throw ex;\r\n    }\r\n  }\r\n}\r\n","export enum CharacterRace {\r\n  Alien = \"Alien\",\r\n  Bot = \"Bot\",\r\n  Human = \"Human\",\r\n  Strange = \"Strange\"\r\n}\r\n\r\nexport enum CharacterSpecies {\r\n  AssaultBot = \"Assault Bot\",\r\n  BioUpgrade = \"Bio-upgrade\",\r\n  Bot = \"Bot\",\r\n  DeConverted = \"De-converted\",\r\n  EmoSuppressed = \"Emo-suppressed\",\r\n  Empath = \"Empath\",\r\n  Engineer = \"Engineer\",\r\n  Feeler = \"Feeler\",\r\n  Feral = \"Feral\",\r\n  GeneticUplift = \"Genetic Uplift\",\r\n  Hakshan = \"Hakshan\",\r\n  HopefulRookie = \"Hopeful Rookie\",\r\n  Hulker = \"Hulker\",\r\n  Human = \"Human\",\r\n  KErin = \"K'Erin\",\r\n  Manipulator = \"Manipulator\",\r\n  MinorAlien = \"Minor Alien\",\r\n  Mutant = \"Mutant\",\r\n  MysteriousPast = \"Mysterious Past\",\r\n  Precursor = \"Precursor\",\r\n  Primitive = \"Primitive\",\r\n  Soulless = \"Soulless\",\r\n  Stalker = \"Stalker\",\r\n  Swift = \"Swift\",\r\n  Traveler = \"Traveler\",\r\n  UnityAgent = \"Unity Agent\"\r\n}\r\n\r\nexport enum CharacterStat {\r\n  CombatSkill = \"Combat Skill\",\r\n  Luck = \"Luck\",\r\n  Reactions = \"Reactions\",\r\n  Savvy = \"Savvy\",\r\n  Speed = \"Speed\",\r\n  Toughness = \"Toughness\",\r\n  XP = \"XP\"\r\n}\r\n\r\nexport enum Difficulty {\r\n  Easy = \"Easy\",\r\n  Normal = \"Normal\",\r\n  Challenging = \"Challenging\",\r\n  Hardcore = \"Hardcore\",\r\n  Insanity = \"Insanity\"\r\n}\r\n\r\nexport enum EquipmentType {\r\n  Equipment = \"Equipment\",\r\n  ProtectiveDevice = \"Protective Device\",\r\n  WeaponMod = \"Weapon Mod\",\r\n  WeaponSight = \"Weapon Sight\",\r\n  Consumable = \"Consumable\",\r\n  Implant = \"Implant\",\r\n  UtilityDevice = \"Utility Device\",\r\n  OnBoardItem = \"On-Board Item\"\r\n}\r\n\r\nexport enum ProtectiveDeviceType {\r\n  Armor = `Armor`,\r\n  Screen = `Screen`\r\n}\r\n\r\nexport enum ShipTrait {\r\n  EmergencyDrives = `Emergency Drives: If you have to perform an emergency take-off while your ship is damaged, reduce the Hull damage sustained on the roll by 3.`,\r\n  FuelEfficient = `Fuel Efficient: When traveling to a new world, the fuel cost is reduced by 1 credit.`,\r\n  FuelHog = `Fuel Hog: When traveling to a new world, the fuel cost is increased by 1 credit.`,\r\n  DodgyDrive = `Dodgy Drive: Any time the ship takes Hull damage, roll 2D6. If the roll is equal to or below the amount of damage sustained, the drive is misbehaving, and 2 additional points of damage are sustained.`,\r\n  StandardIssue = `Standard Issue: The cost of all Starship Components is reduced by 1 credit.`,\r\n  Armored = `Armored: Any time the ship takes damage, you lose 1 Hull Point less than indicated by the rules.`\r\n}\r\n\r\nexport enum VictoryType {\r\n  CampaignTurns = \"Campaign Turns\",\r\n  Quests = \"Quests\",\r\n  TabletopBattles = \"Tabletop Battles\",\r\n  UniqueIndividuals = \"Unique Individuals\",\r\n  UpgradeCharacters = \"Upgrade Characters\",\r\n  ChallengingCampaignTurns = \"Campaign Turns: Challenging\",\r\n  HardcoreCampaignTurns = \"Campaign Turns: Hardcore\",\r\n  InsanityCampaignTurns = \"Campaign Turns: Insanity\"\r\n}\r\n\r\nexport enum WeaponStat {\r\n  Range = \"Range\",\r\n  Shots = \"Shots\",\r\n  Damage = \"Damage\",\r\n  Hit = \"Hit\"\r\n}\r\n\r\nexport enum WeaponTrait {\r\n  Area = `Area: Resolve all shots against the initial target. They cannot be spread. Then resolve one bonus shot against every figure within 2\".`,\r\n  Clumsy = `Clumsy: -1 to Brawling rolls, if opponent has higher Speed.`,\r\n  Critical = `Critical: A natural 6 on the to Hit roll will inflict 2 Hits on the target.`,\r\n  Elegant = `Elegant: When Brawling, the fighter may reroll the die. Enemies will always reroll if they have a lower total than their opponent, and can improve the result.`,\r\n  Focused = `Focused: All shots must be against a single target.`,\r\n  Heavy = `Heavy: -1 penalty to Hit if the firer moved this round.`,\r\n  Impact = `Impact: If target is Stunned, place a second Stun marker.`,\r\n  Melee = `Melee: +2 to Brawling rolls.`,\r\n  Piercing = `Piercing: Ignore Armor Saving Throws.`,\r\n  Pistol = `Pistol: +1 to Brawling rolls.`,\r\n  SingleUse = `Single Use: The item can be used only once and must be deducted from the available supply. The Panic Fire rule cannot be used with Single Use weapons.`,\r\n  SnapShot = `Snapshot: +1 to Hit within 6\".`,\r\n  Stun = `Stun: All targets are automatically Stunned. No damage rolls ake place.`,\r\n  Terrifying = `Terrifying: Any target hit must retreat 1D6\" away from the firer.`\r\n}\r\n\r\nexport enum WeaponType {\r\n  Weapon = \"Weapon\",\r\n  Sidearm = \"Sidearm\",\r\n  Pistol = \"Pistol\",\r\n  Melee = \"Melee\"\r\n}\r\n","import {\r\n  Difficulty,\r\n  VictoryType\r\n} from '../../enums';\r\n\r\nexport class VictoryCondition {\r\n  readonly iterations: number;\r\n  readonly type: VictoryType;\r\n  readonly difficulties: Array<Difficulty> = new Array<Difficulty>(\r\n    Difficulty.Normal,\r\n    Difficulty.Challenging,\r\n    Difficulty.Hardcore,\r\n    Difficulty.Insanity\r\n  );\r\n\r\n  constructor(\r\n    iterations: number,\r\n    type: VictoryType,\r\n    difficulties: Difficulty[] | null = null\r\n  ) {\r\n    this.iterations = iterations;\r\n    this.type = type;\r\n    this.difficulties = difficulties ?? this.difficulties;\r\n  }\r\n}\r\n","import { KeyValue } from '../core';\r\nimport { VictoryCondition } from '../models/campaign/victory-condition';\r\n\r\nimport {\r\n  Difficulty,\r\n  VictoryType\r\n} from '../enums';\r\n\r\nconst EASY: string[] = [\r\n  `After every battle, select a crew member to receive +1 XP.`,\r\n  `Increase post-battle rewards by +1 credit.`,\r\n  `When setting up a tabletop battle, if you would face 5+ opponents, remove one Basic enemy.`,\r\n  `Only the Play 20 campaign turns and Win 20 tabletop battles Victory Conditions can be completed in the Easy difficulty mode.`\r\n]\r\n\r\nconst CHALLENGING: string[] = [\r\n  `When rolling to determine enemy numbers faced in battle, count any die rolling a 1 or 2 as a 3.`\r\n]\r\n\r\nconst HARDCORE: string[] = [\r\n  ...CHALLENGING,\r\n  `Add an additional Basic enemy to every battle.`,\r\n  `Add +2 to all Invasion rolls.`,\r\n  `Add a -2 penalty to all Seize the Initiative rolls.`,\r\n  `Add +1 when rolling for Unique Individuals.`,\r\n  `Begin the campaign wiht one less story point`\r\n]\r\n\r\nconst INSANITY: string[] = [\r\n  ...HARDCORE,\r\n  `Add an additional Specialist enemy to every battle.`,\r\n  `Add +3 to all Invasion rolls.`,\r\n  `Apply a -3 penalty to all Seize the Initiative rolls.`,\r\n  `The opposing side always includes a Unique Individual, even for Roving Threats.`,\r\n  `Roll 2d6. On all 11-12, they include two Unique Individuals.`,\r\n  `Receive no 'Stars of the Story' options.`,\r\n  `Receive no story points. If any item or event would grant them, it has no effect and the item or event is not re-rolled.`\r\n]\r\n\r\nexport const DifficultyDescription = (difficulty: Difficulty): string[] => {\r\n  switch (difficulty) {\r\n    case Difficulty.Easy:\r\n      return EASY;\r\n    case Difficulty.Challenging:\r\n      return CHALLENGING;\r\n    case Difficulty.Hardcore:\r\n      return HARDCORE;\r\n    case Difficulty.Insanity:\r\n      return INSANITY;\r\n    default:\r\n      return [`No changes to game mechanics. All rules apply as written.`]\r\n  }\r\n}\r\n\r\nconst ALL_DIFFICULTIES: Difficulty[] = [\r\n  Difficulty.Easy,\r\n  Difficulty.Normal,\r\n  Difficulty.Challenging,\r\n  Difficulty.Hardcore,\r\n  Difficulty.Insanity\r\n]\r\n\r\nexport const VictoryConditions: KeyValue<VictoryCondition>[] = [\r\n  new KeyValue(\r\n    'Play 20 Campaign Turns',\r\n    new VictoryCondition(\r\n      20, VictoryType.CampaignTurns, ALL_DIFFICULTIES\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Play 50 Campaign Turns`,\r\n    new VictoryCondition(\r\n      50, VictoryType.CampaignTurns\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Play 100 Campaign Turns`,\r\n    new VictoryCondition(\r\n      100, VictoryType.CampaignTurns\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Complete 3 Quests`,\r\n    new VictoryCondition(\r\n      3, VictoryType.Quests\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Complete 5 Quests`,\r\n    new VictoryCondition(\r\n      5, VictoryType.Quests\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Complete 10 Quests`,\r\n    new VictoryCondition(\r\n      10, VictoryType.Quests\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Win 20 Tabletop Battles`,\r\n    new VictoryCondition(\r\n      20, VictoryType.TabletopBattles, ALL_DIFFICULTIES\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Win 50 Tabletop Battles`,\r\n    new VictoryCondition(\r\n      50, VictoryType.TabletopBattles\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Win 100 Tabletop Battles`,\r\n    new VictoryCondition(\r\n      100, VictoryType.TabletopBattles\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Kill 10 Unique Individuals`,\r\n    new VictoryCondition(\r\n      10, VictoryType.UniqueIndividuals\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Kill 25 Unique Individuals`,\r\n    new VictoryCondition(\r\n      25, VictoryType.UniqueIndividuals\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Upgrade a Single Character 10 Times`,\r\n    new VictoryCondition(\r\n      1, VictoryType.UpgradeCharacters\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Upgrade 3 Characters 10 Times`,\r\n    new VictoryCondition(\r\n      3, VictoryType.UpgradeCharacters\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Upgrade 5 Characters 10 Times`,\r\n    new VictoryCondition(\r\n      5, VictoryType.UpgradeCharacters\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Play 50 Campaign Turns in Challenging Mode`,\r\n    new VictoryCondition(\r\n      50, VictoryType.ChallengingCampaignTurns, [ Difficulty.Challenging ]\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Play 50 Campaign Turns in Hardcore Mode`,\r\n    new VictoryCondition(\r\n      50, VictoryType.HardcoreCampaignTurns, [ Difficulty.Hardcore ]\r\n    )\r\n  ),\r\n  new KeyValue(\r\n    `Play 50 Campaign Turns in Insanity Mode`,\r\n    new VictoryCondition(\r\n      50, VictoryType.InsanityCampaignTurns, [ Difficulty.Insanity ]\r\n    )\r\n  )\r\n]\r\n\r\nexport const AvailableVictoryConditions = (difficulty: Difficulty) =>\r\n  VictoryConditions\r\n    .filter((vc: KeyValue<VictoryCondition>) =>\r\n      vc.value.difficulties.includes(difficulty)\r\n    );\r\n","import { v4 as uuid } from 'uuid';\r\n\r\nimport {\r\n  EquipmentType,\r\n  ProtectiveDeviceType\r\n} from '../../enums';\r\n\r\nexport class Equipment {\r\n  readonly id: string;\r\n  readonly name: string;\r\n  readonly description: string;\r\n  readonly type: EquipmentType;\r\n\r\n  constructor(\r\n    name: string,\r\n    description: string,\r\n    type: EquipmentType,\r\n    id: string | null = null\r\n  ) {\r\n    this.id = id ?? uuid();\r\n    this.name = name;\r\n    this.description = description;\r\n    this.type = type;\r\n  }\r\n\r\n  static Restore = (val: any): Equipment => {\r\n    switch (val.type) {\r\n      case EquipmentType.Consumable:\r\n        return new Consumable(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.id\r\n        );\r\n      case EquipmentType.Implant:\r\n        return new Implant(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.id\r\n        );\r\n      case EquipmentType.OnBoardItem:\r\n        return new OnBoardItem(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.id\r\n        );\r\n      case EquipmentType.ProtectiveDevice:\r\n        return new ProtectiveDevice(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.deviceType,\r\n          val.id\r\n        );\r\n      case EquipmentType.UtilityDevice:\r\n        return new UtilityDevice(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.id\r\n        );\r\n      case EquipmentType.WeaponMod:\r\n        return new WeaponMod(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.allowPistol,\r\n          val.id\r\n        );\r\n      case EquipmentType.WeaponSight:\r\n        return new WeaponSight(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.pistolOnly,\r\n          val.damanged,\r\n          val.id\r\n        );\r\n      default:\r\n        return new Equipment(\r\n          val.name,\r\n          val.description,\r\n          val.type,\r\n          val.id\r\n        );\r\n    }\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      description: this.description,\r\n      type: this.type\r\n    }\r\n  }\r\n}\r\n\r\nexport class ProtectiveDevice extends Equipment {\r\n  readonly deviceType: ProtectiveDeviceType;\r\n\r\n  constructor(\r\n    name: string,\r\n    description: string,\r\n    type: EquipmentType,\r\n    deviceType: ProtectiveDeviceType,\r\n    id: string | null = null\r\n  ) {\r\n    super(name, description, type, id);\r\n    this.deviceType = deviceType;\r\n  }\r\n\r\n  override toJSON() {\r\n    return {\r\n      ...super.toJSON(),\r\n      deviceType: this.deviceType\r\n    }\r\n  }\r\n}\r\n\r\nexport class WeaponMod extends Equipment {\r\n  readonly allowPistol: boolean;\r\n\r\n  constructor(\r\n    name: string,\r\n    description: string,\r\n    type: EquipmentType,\r\n    allowPistol: boolean,\r\n    id: string | null = null\r\n  ) {\r\n    super(name, description, type, id);\r\n    this.allowPistol = allowPistol;\r\n  }\r\n\r\n  override toJSON() {\r\n    return {\r\n      ...super.toJSON(),\r\n      allowPisto: this.allowPistol\r\n    }\r\n  }\r\n}\r\n\r\nexport class WeaponSight extends Equipment {\r\n  readonly pistolOnly: boolean;\r\n  damaged: boolean;\r\n\r\n  constructor(\r\n    name: string,\r\n    description: string,\r\n    type: EquipmentType,\r\n    pistolOnly: boolean,\r\n    damaged: boolean = false,\r\n    id: string | null = null\r\n  ) {\r\n    super(name, description, type, id);\r\n    this.pistolOnly = pistolOnly;\r\n    this.damaged = damaged;\r\n  }\r\n\r\n  override toJSON() {\r\n    return {\r\n      ...super.toJSON(),\r\n      pistolOnly: this.pistolOnly,\r\n      damaged: this.damaged\r\n    }\r\n  }\r\n}\r\n\r\nexport class Consumable extends Equipment {}\r\nexport class Implant extends Equipment {}\r\nexport class UtilityDevice extends Equipment {}\r\nexport class OnBoardItem extends Equipment {}\r\n","import { Datalist } from '../core';\r\n\r\nimport {\r\n  EquipmentType,\r\n  ProtectiveDeviceType\r\n} from '../enums';\r\n\r\nimport {\r\n  Consumable,\r\n  Implant,\r\n  OnBoardItem,\r\n  ProtectiveDevice,\r\n  UtilityDevice,\r\n  WeaponMod,\r\n  WeaponSight\r\n} from '../models/equipment/equipment';\r\n\r\nexport const Consumables = {\r\n  BoosterPills: () => new Consumable(\r\n    `Booster Pills`,\r\n    `When taken, the character removes all Stun markers. They may move at double normal Speed this round.`,\r\n    EquipmentType.Consumable\r\n  ),\r\n  CombatSerum: () => new Consumable(\r\n    `Combat Serum`,\r\n    `The character receives +2\" Speed and +2 Reactions for the rest of the battle.`,\r\n    EquipmentType.Consumable\r\n  ),\r\n  KiraninCrystals: () => new Consumable(\r\n    `Kiranin Crystals`,\r\n    `A bright, dazzling display of hypnotic lights will daze any character within 4\" of the user, making them unable to act this round. The crystals have no effect on characters that already acted earlier in the round, and do not affect the user. A character that is attacked in Brawling combat will defend themselves normally.`,\r\n    EquipmentType.Consumable\r\n  ),\r\n  RageOut: () => new Consumable(\r\n    `Rage Out`,\r\n    `The user gains +2\" Speed an +1 to all Brawling rolls for the rest of this and the following round. A K'Erin user gets the benefits for the rest of the battle.`,\r\n    EquipmentType.Consumable\r\n  ),\r\n  Still: () => new Consumable(\r\n    `Still`,\r\n    `The user gains +1 to Hit, but cannot Move during this and the next round.`,\r\n    EquipmentType.Consumable\r\n  ),\r\n  StimPack: () => new Consumable(\r\n    `Stim-pack`,\r\n    `If a character would become a casualty, they remain on the table with a single Stun marker. This item can be used reflexively upon becoming a casualty. It does not require an action.`,\r\n    EquipmentType.Consumable\r\n  )\r\n}\r\n\r\nexport const ConsumableList = Datalist(Consumables);\r\n\r\nexport const Implants = {\r\n  AICompanion: () => new Implant(\r\n    `AI Companion`,\r\n    `When making Savvy rolls, the character may roll twice and pick the better score.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  BodyWire: () => new Implant(\r\n    `Body Wire`,\r\n    `+1 Reactions`,\r\n    EquipmentType.Implant\r\n  ),\r\n  BoostedArm: () => new Implant(\r\n    `Boosted Arm`,\r\n    `Increase Grenade range by 2+\". If the character ends their Move in contact with an obstacle that is no taller than the miniature, they may pull themselves up on top (bot not cross) as a Free Action.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  BoostedLeg: () => new Implant(\r\n    `Boosted Leg`,\r\n    `Increase base move and Dash speed by +1\" each.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  CyberHand: () => new Implant(\r\n    `Cyber Hand`,\r\n    `The character may take any one Pistol they own and build it into their hand. Range is reduced to half, but the weapon always shoots with +1 to Hit and an additional +1 bonus when Brawling.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  GeneticDefenses: () => new Implant(\r\n    `Genetic Defenses`,\r\n    `5+ Saving Throw, if subjected to any poison, virus, gas, or disease.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  HealthBoost: () => new Implant(\r\n    `Health Boost`,\r\n    `If a post-battle Injury would result in 2+ campaign turns of recovery time, reduce the time by 1. If the character has Toughness 3 when receving this ipmlant, raise it to 4.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  NerveAdjuster: () => new Implant(\r\n    `Nerve Adjuster`,\r\n    `Whenever the character is Stunned for any reason, they receive a 5+ Saving Throw to avoid the Stun.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  NeuralOptimization: () => new Implant(\r\n    `Neural Optimization`,\r\n    `The character cannot be Stunned.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  NightSight: () => new Implant(\r\n    `Night Sight`,\r\n    `The character does not suffer visibility reductions due to darkness, but is affected by smoke, gas, etc. normally.`,\r\n    EquipmentType.Implant\r\n  ),\r\n  PainSuppressor: () => new Implant(\r\n    `Pain Suppressor`,\r\n    `The character can perform crew tasks while in Sick Bay, though they cannot participate in battles.`,\r\n    EquipmentType.Implant\r\n  )\r\n}\r\n\r\nexport const ImplantList = Datalist(Implants);\r\n\r\nexport const OnBoardItems = {\r\n  Analyzer: () => new OnBoardItem(\r\n    `Analyzer`,\r\n    `Add +1 when rolling to see if Rumors result in a Quest and when rolling for Quest resolution`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  ColonistRationPacks: () => new OnBoardItem(\r\n    `Colonist Ration Packs`,\r\n    `Ignore Upkeep costs for one campaign turn. +1 story point. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  Duplicator: () => new OnBoardItem(\r\n    `Duplicator`,\r\n    `Create a perfect copy of one item in your inventory. A Duplicator cannot copy a Duplicator, due to the same proprietary nano-bot lock-out codes that makes your printer say it's out of ink after printing 17 pages. Single-use`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  FakeId: () => new OnBoardItem(\r\n    `Fake ID`,\r\n    `Add +1 to all attempts to obtain a licesne or other legal document`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  Fixer: () => new OnBoardItem(\r\n    `Fixer`,\r\n    `One piece of damaged or destroyed personal equipment can be repaired automatically, and at no cost. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  GeneticReconfigurationKit: () => new OnBoardItem(\r\n    `Genetic Reconfiguration Kit`,\r\n    `Reduce the cost of an ability score upgrade by 2 XP. Has no effect on Bots or Soulless. K'Erin may only use this to increase Toughness. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  LoadedDice: () => new OnBoardItem(\r\n    `Loaded Dice`,\r\n    `Each campaign turn, one crew member may gamble on the side. Roll 1D6. On a 1-4, earh that may credits. On a 5, earn nothing. On a 6, the locals don't take kindly to losing: The dice are lost and the crew member must roll on the post-battle Injury Table.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  LuckyDice: () => new OnBoardItem(\r\n    `Lucky Dice`,\r\n    `Each campaign turn, one crew member may gamble on the sdie, earning +1 credit. If you have both Lucky and Loaded Dice, you can use both, but rolling a 6 for the Loaded dice means you lose both sets of dice.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  MkIITranslator: () => new OnBoardItem(\r\n    `Mk II Translator`,\r\n    `When rolling to Recruit, you may roll an additional D6.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  MedPatch: () => new OnBoardItem(\r\n    `Med-patch`,\r\n    `A character recovering from an Injury may subtract one campaign turn from the recovery duration required. If this reduces the time to zero turns, they may act normally this campaign turn. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  MeditationOrb: () => new OnBoardItem(\r\n    `Meditation Orb`,\r\n    `The crew all feel reassured of their karmic balance. Add +2 story points. All Swift or Precursor in the crew may also add +1 XP. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  NanoDoc: () => new OnBoardItem(\r\n    `Nano-doc`,\r\n    `Prevent one roll on the post-battle Injury Table, no matter the source of the injury. You must decide before rolling the dice. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  NoveltyStuffedAnimal: () => new OnBoardItem(\r\n    `Novelty Stuffed Animal`,\r\n    `Give to any character that isn't Soulless, K'Erin, or a Bot. The character receives +1 XP, and may roll 1D6. On a 6, you may add +1 story point as well. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  Purifier: () => new OnBoardItem(\r\n    `Purifier`,\r\n    `Each campaign turn, the Purifier can be used to generate clean water which can be sold off for 1 credit. This does not require a crew member to operate, but only one Purifier may be used at a time.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  RepairBot: () => new OnBoardItem(\r\n    `Repair Bot`,\r\n    `+1 to all Repair attempts`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  SectorPermit: () => new OnBoardItem(\r\n    `Sector Permit`,\r\n    `Whenever you arrive at a planet where a license is required, roll 1D6. On a 4+, the Sector Permit is accepted. You must roll for each license type, on each planet.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  SpareParts: () => new OnBoardItem(\r\n    `Spare Parts`,\r\n    `Add +1 when making a Repair attempt. If the roll is a natural 1, the Spare Parts are used up and must be erased from your roster.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  TeachBot: () => new OnBoardItem(\r\n    `Teach-bot`,\r\n    `A character engaging in the Train crew task will earn 1D6 additional XP. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  ),\r\n  Transcender: () => new OnBoardItem(\r\n    `Transcender`,\r\n    `The character activating this mysterious device receives +1 XP. The entire crew makes realizations about thier place in the cosmos. Add +2 story points. Single-use.`,\r\n    EquipmentType.OnBoardItem\r\n  )\r\n}\r\n\r\nexport const OnBoardItemList = Datalist(OnBoardItems);\r\n\r\nexport const ProtectiveDevices = {\r\n  BattleDress: () => new ProtectiveDevice(\r\n    `Battle Dress`,\r\n    `The character counts as +1 Reactions (maximum 4) and receives a Saving Throw of 5+`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Armor\r\n  ),\r\n  CamoCloak: () => new ProtectiveDevice(\r\n    `Camo Cloak`,\r\n    `If character is within 2\" of Cover, they are counted as being in Cover. Does not apply if the shooter is within 4\".`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Screen\r\n  ),\r\n  CombatArmor: () => new ProtectiveDevice(\r\n    `Combat Armor`,\r\n    `Saving Throw 5+`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Armor\r\n  ),\r\n  DeflectorField: () => new ProtectiveDevice(\r\n    `Deflector Field`,\r\n    `Automatically deflects a single ranged weapon's Hit per battle. After a Hit is scored, decide if you wish to use the field before any rolls for Toughness or armor are made.`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Screen\r\n  ),\r\n  FlakScreen: () => new ProtectiveDevice(\r\n    `Falk Screen`,\r\n    `All Area weapons striking the wearer, whether through the initial shots or additional attacks fro the Area trait have their Damage reduced by -1 (to a cap of +0).`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Screen\r\n  ),\r\n  FlexArmor: () => new ProtectiveDevice(\r\n    `Flex-armor`,\r\n    `If the character did not move on their last activation, they count as +1 Toughness (to a maximum of 6).`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Screen\r\n  ),\r\n  FragVest: () => new ProtectiveDevice(\r\n    `Frag Vest`,\r\n    `The wearer receives a 6+ Saving Throw, improved to 5+ against any Area attack.`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Armor\r\n  ),\r\n  ScreenGenerator: () => new ProtectiveDevice(\r\n    `Screen Generator`,\r\n    `Receives a 5+ Saving Throw against gunfire. No effect against Area or Melee attacks.`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Screen\r\n  ),\r\n  StealthGear: () => new ProtectiveDevice(\r\n    `Stealth Gear`,\r\n    `Enemies firing from a range over 9\" are -1 to Hit.`,\r\n    EquipmentType.ProtectiveDevice,\r\n    ProtectiveDeviceType.Armor\r\n  )\r\n}\r\n\r\nexport const ProtectiveDeviceList = Datalist(ProtectiveDevices);\r\n\r\nexport const UtilityDevices = {\r\n  AutoSensor: () => new UtilityDevice(\r\n    `Auto Sensor`,\r\n    `If an enemy begins or ends a move within 4\" and Line of Sight of the character, you may immediately fire one shot form any Pistol carried. The shot is resolved `,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  BattleVisor: () => new UtilityDevice(\r\n    `Battle Visor`,\r\n    `When shooting, the character may reroll any 1s on the firing dice.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  Communicator: () => new UtilityDevice(\r\n    `Communicator`,\r\n    `When making the Reaction roll each round, you may roll one additional die, then choose a die to discard.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  ConcealedBlade: () => new UtilityDevice(\r\n    `Concealed Blade`,\r\n    `If the character begins the round within 2\" of an opponent, they may throw the blade as a Free Action before doing anything else. Roll to Hit normally, resolving the Hit with Damage +0. The blade can be used once per battle, and is replaced afterwards for free.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  Displacer: () => new UtilityDevice(\r\n    `Displacer`,\r\n    `Usable once permission instead of Moving. Aim anywhere in sight. The character teleports to a point 1D6\" away in a random direction. If the teleport would end up within a solid obstacle, the device fails and must be Repaired before it can be used again. The character emerges on the same height as the aiming point, which may cause them to fall if they emerge in open air. The character may take a Combat Action after teleporting. If used by a Precursor character, you may establish two \"landing points\", and select to use either.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  DistractionBot: () => new UtilityDevice(\r\n    `Distraction Bot`,\r\n    `Usable once per battle as a Combat Action. Select an enemy within 12\". Next time they would become active, they are unable to act, though they remove Stun markers as normal. Use a small marker to remember.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  GrappleLauncher: () => new UtilityDevice(\r\n    `Grapple Launcher`,\r\n    `As a Combat Action, the character may use the launcher to scale a terrain feature within 1\". The character can ascend up to 12\" but must reach a surface they can stand on.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  GravDampener: () => new UtilityDevice(\r\n    `Grav Dampener`,\r\n    `The character suffers no damage from faling and can descend from any height with no risk. If dropping more than 6\", it counts as the character's Move for the round.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  HazardSuit: () => new UtilityDevice(\r\n    `Hazard Suit`,\r\n    `If the character takes a Hit from an environmental hazard, they receive a 5+ Saving Throw.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  HoverBoard: () => new UtilityDevice(\r\n    `Hover Board`,\r\n    `The character may use the board to move instead of walking. When used, the character can move up to 9\" and can ignore any terrain that is man-height or lower. While hover-boarding, the character cannot engage in cobat, but can perform a non-Combat Action as needed.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  InstaWall: () => new UtilityDevice(\r\n    `Insta-wall`,\r\n    `May be used once per mission as a Combat Action. Place a marker within 3\", then place a 2\" long force wall oriented any way you like, as long as it touches the marker. The wall is man-height an impenetrable to attacks (but does not block sight or mental abilities). At the start of each subsequent round, a D6 is rolled. On a 6, the wall dissipates.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  JumpBelt: () => new UtilityDevice(\r\n    `Jump Belt`,\r\n    `Instead of Moving normally, the character may jump up to 9\" directly forward and 3\" upwards. Th character may take a Combat Action normally after landing.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  MotionTracker: () => new UtilityDevice(\r\n    `Motion Tracker`,\r\n    `Add +1 to all rolls to Seize the Initiative.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  MultiCutter: () => new UtilityDevice(\r\n    `Multi-cutter`,\r\n    `As a Combat Action, the character can cut a man-sized hole through any terrain feature up to 1\" thick. The tool has no effect on force fields.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  RoboRabbitsFoot: () => new UtilityDevice(\r\n    `Robo-rabbit's Foot`,\r\n    `A character with Luck 0 counts as having Luck 1. If the character would die while carrying this, the foot is destroyed (and cannot be Repaired), the character does not roll on the injury table.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  ScannerBot: () => new UtilityDevice(\r\n    `Scanner Bot`,\r\n    `The crew adds +1 to all Seize the Initiative rolls.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  SnooperBot: () => new UtilityDevice(\r\n    `Snooper Bot`,\r\n    `May be deployed before a battle, if the Seize the Initiative roll would be penalized or negated. The penalty can be ignored, but the Bot is Damaged on a D6 roll of a 1.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  SonicEmitter: () => new UtilityDevice(\r\n    `Sonic Emitter`,\r\n    `Any enemy within 5\" suffers -1 to all Hit rolls when shooting.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  SteelBoots: () => new UtilityDevice(\r\n    `Steel Boots`,\r\n    `If the character rolls a natural 5 or 6 in a Brawl and wins the Brawl, they may opt to kick instead of striking normally. This hits with Damage +0 and knocks them 1D3\" directly backwards. If the opponent is kicked into another character, that character is knocked 1D3\" in a random direction.`,\r\n    EquipmentType.UtilityDevice\r\n  ),\r\n  TimeDistorter: () => new UtilityDevice(\r\n    `Time Distorter`,\r\n    `Activated as a Free Action. Select up to 3 enemy figures on the battlefield. They are frozen in time until the end of the following round. While in this state, they cannot Move, take Actions, or be affected by attacks or effects in any way. They are unaffected by Morale rolls as well. Single-use`,\r\n    EquipmentType.UtilityDevice\r\n  )\r\n}\r\n\r\nexport const UtilityDeviceList = Datalist(UtilityDevices);\r\n\r\nexport const WeaponMods = {\r\n  AssaultBlade: () => new WeaponMod(\r\n    `Assault Blade`,\r\n    `The weapon gains the Melee trait. Damage +1, and wins combat on a Draw.`,\r\n    EquipmentType.WeaponMod,\r\n    false\r\n  ),\r\n  BeamLight: () => new WeaponMod(\r\n    `Beam Light`,\r\n    `When using the weapon in conditions of reduced visibility, increase visibility by +3\".`,\r\n    EquipmentType.WeaponMod,\r\n    true\r\n  ),\r\n  Bipod: () => new WeaponMod(\r\n    `Bipod`,\r\n    `The weapon recieve +1 to Hit at ranges over 8\" when Aiming or when firing from Cover.`,\r\n    EquipmentType.WeaponMod,\r\n    false\r\n  ),\r\n  HotShotPack: () => new WeaponMod(\r\n    `Hot Shot Pack`,\r\n    `If fittedto a Blast Pistol, Blast Rifle, Hand Laser, or Infantry Laser, +1 Damage. Any natural 6 on the shooting dice causes an overheat, rendering the weapon inoperable for the rest of the fight.`,\r\n    EquipmentType.WeaponMod,\r\n    true\r\n  ),\r\n  CyberConfigurableNanoSludge: () => new WeaponMod(\r\n    `Cyber-configurable Nano-sludge`,\r\n    `The weapon receives a permanent +1 Hit bonus.`,\r\n    EquipmentType.WeaponMod,\r\n    true\r\n  ),\r\n  Stabilizer: () => new WeaponMod(\r\n    `Stabilizer`,\r\n    `Weapon may ignore Heavy trait.`,\r\n    EquipmentType.WeaponMod,\r\n    true\r\n  ),\r\n  ShockAttachment: () => new WeaponMod(\r\n    `Shock Attachment`,\r\n    `The weapon receives the Impact trait against targets within 8\".`,\r\n    EquipmentType.WeaponMod,\r\n    true\r\n  ),\r\n  UpgradeKit: () => new WeaponMod(\r\n    `Upgrade Kit`,\r\n    `+2\" Range increase.`,\r\n    EquipmentType.WeaponMod,\r\n    true\r\n  )\r\n}\r\n\r\nexport const WeaponModList = Datalist(WeaponMods);\r\n\r\nexport const WeaponSights = {\r\n  LaserSight: () => new WeaponSight(\r\n    `Laser Sight`,\r\n    `The weapon receives thet Snap Shot trait.`,\r\n    EquipmentType.WeaponSight,\r\n    true\r\n  ),\r\n  QualitySight: () => new WeaponSight(\r\n    `Quality Sight`,\r\n    `+2\" Range increase. Reroll 1s when firing only 1 shot.`,\r\n    EquipmentType.WeaponSight,\r\n    false\r\n  ),\r\n  SeekerSight: () => new WeaponSight(\r\n    `Seeker Sight`,\r\n    `The weapon receives a +1 to Hit if the shooter did not Move this round.`,\r\n    EquipmentType.WeaponSight,\r\n    false\r\n  ),\r\n  TrackerSight: () => new WeaponSight(\r\n    `Tracker Sight`,\r\n    `+1 to Hit if you fired at the same target during your previous round.`,\r\n    EquipmentType.WeaponSight,\r\n    false\r\n  ),\r\n  UnityBattleSight: () => new WeaponSight(\r\n    `Unity Battle Sight`,\r\n    `+1 to all Hit rolls.`,\r\n    EquipmentType.WeaponSight,\r\n    false\r\n  )\r\n}\r\n\r\nexport const WeaponSightList = Datalist(WeaponSights);\r\n\r\n","import { Equipment } from '../models/equipment';\r\n\r\nimport {\r\n  d100,\r\n  Generator,\r\n  GeneratorOption\r\n} from '../core';\r\n\r\nimport {\r\n  Consumables,\r\n  Implants,\r\n  OnBoardItems,\r\n  ProtectiveDevices,\r\n  UtilityDevices,\r\n  WeaponMods,\r\n  WeaponSights\r\n} from '../data/equipment.data';\r\n\r\nexport abstract class EquipmentGenerator {\r\n  static GenerateStash = (): Equipment[] =>\r\n    [this.GenerateGear(), this.GenerateGadget()];\r\n\r\n  static GenerateGear = (): Equipment =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 4], WeaponMods.AssaultBlade()\r\n      ),\r\n      new GeneratorOption(\r\n        [5, 10], WeaponMods.BeamLight()\r\n      ),\r\n      new GeneratorOption(\r\n        [11, 15], WeaponMods.Bipod()\r\n      ),\r\n      new GeneratorOption(\r\n        [16, 20], Consumables.BoosterPills()\r\n      ),\r\n      new GeneratorOption(\r\n        [21, 24], ProtectiveDevices.CamoCloak()\r\n      ),\r\n      new GeneratorOption(\r\n        [25, 28], ProtectiveDevices.CombatArmor()\r\n      ),\r\n      new GeneratorOption(\r\n        [29, 33], UtilityDevices.Communicator()\r\n      ),\r\n      new GeneratorOption(\r\n        [34, 37], UtilityDevices.ConcealedBlade()\r\n      ),\r\n      new GeneratorOption(\r\n        [38, 42], OnBoardItems.FakeId()\r\n      ),\r\n      new GeneratorOption(\r\n        [43, 46], OnBoardItems.Fixer()\r\n      ),\r\n      new GeneratorOption(\r\n        [47, 52], ProtectiveDevices.FragVest()\r\n      ),\r\n      new GeneratorOption(\r\n        [53, 57], UtilityDevices.GrappleLauncher()\r\n      ),\r\n      new GeneratorOption(\r\n        [58, 61], UtilityDevices.HazardSuit()\r\n      ),\r\n      new GeneratorOption(\r\n        [62, 65], WeaponSights.LaserSight()\r\n      ),\r\n      new GeneratorOption(\r\n        [66, 69], OnBoardItems.LoadedDice()\r\n      ),\r\n      new GeneratorOption(\r\n        [70, 75], OnBoardItems.MedPatch()\r\n      ),\r\n      new GeneratorOption(\r\n        [76, 81], OnBoardItems.NanoDoc()\r\n      ),\r\n      new GeneratorOption(\r\n        [82, 85], OnBoardItems.Purifier()\r\n      ),\r\n      new GeneratorOption(\r\n        [86, 89], UtilityDevices.ScannerBot()\r\n      ),\r\n      new GeneratorOption(\r\n        [90, 92], OnBoardItems.SectorPermit()\r\n      ),\r\n      new GeneratorOption(\r\n        [93, 96], UtilityDevices.SteelBoots()\r\n      ),\r\n      new GeneratorOption(\r\n        [97, 100], WeaponSights.TrackerSight()\r\n      )\r\n    ]);\r\n\r\n  static GenerateGadget = (): Equipment =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 4], Implants.AICompanion()\r\n      ),\r\n      new GeneratorOption(\r\n        [5, 9], OnBoardItems.Analyzer()\r\n      ),\r\n      new GeneratorOption(\r\n        [10, 13], UtilityDevices.BattleVisor()\r\n      ),\r\n      new GeneratorOption(\r\n        [14, 17], Implants.BoostedArm()\r\n      ),\r\n      new GeneratorOption(\r\n        [18, 21], Implants.BoostedLeg()\r\n      ),\r\n      new GeneratorOption(\r\n        [22, 24], Implants.CyberHand()\r\n      ),\r\n      new GeneratorOption(\r\n        [25, 27], UtilityDevices.Displacer()\r\n      ),\r\n      new GeneratorOption(\r\n        [28, 31], UtilityDevices.DistractionBot()\r\n      ),\r\n      new GeneratorOption(\r\n        [32, 36], OnBoardItems.Duplicator()\r\n      ),\r\n      new GeneratorOption(\r\n        [37, 41], UtilityDevices.InstaWall()\r\n      ),\r\n      new GeneratorOption(\r\n        [42, 46], UtilityDevices.JumpBelt()\r\n      ),\r\n      new GeneratorOption(\r\n        [47, 50], Implants.NerveAdjuster()\r\n      ),\r\n      new GeneratorOption(\r\n        [51, 55], OnBoardItems.RepairBot()\r\n      ),\r\n      new GeneratorOption(\r\n        [56, 60], UtilityDevices.ScannerBot()\r\n      ),\r\n      new GeneratorOption(\r\n        [61, 65], ProtectiveDevices.ScreenGenerator()\r\n      ),\r\n      new GeneratorOption(\r\n        [66, 69], WeaponSights.SeekerSight()\r\n      ),\r\n      new GeneratorOption(\r\n        [70, 73], WeaponMods.ShockAttachment()\r\n      ),\r\n      new GeneratorOption(\r\n        [74, 79], UtilityDevices.SnooperBot()\r\n      ),\r\n      new GeneratorOption(\r\n        [80, 83], UtilityDevices.SonicEmitter()\r\n      ),\r\n      new GeneratorOption(\r\n        [84, 89], WeaponMods.Stabilizer()\r\n      ),\r\n      new GeneratorOption(\r\n        [90, 93], ProtectiveDevices.StealthGear()\r\n      ),\r\n      new GeneratorOption(\r\n        [94, 100], Consumables.StimPack()\r\n      )\r\n    ])\r\n}\r\n","import { Constructor } from '../../core';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nimport {\r\n  WeaponStat,\r\n  WeaponTrait,\r\n  WeaponType\r\n} from '../../enums';\r\n\r\nimport {\r\n  WeaponMod,\r\n  WeaponSight\r\n} from './equipment';\r\n\r\nexport interface WeaponConfig {\r\n  damaged: boolean;\r\n  range: number;\r\n  shots: number;\r\n  damage: number;\r\n  hitBonus: number;\r\n  type: WeaponType | null;\r\n  traits: WeaponTrait[];\r\n  mod: WeaponMod | null;\r\n  sight: WeaponSight | null;\r\n}\r\n\r\nexport interface WeaponEffect {\r\n  points: number,\r\n  stat: WeaponStat\r\n}\r\n\r\nexport class Weapon {\r\n  private _damaged: boolean = false;\r\n  get damaged(): boolean { return this._damaged; }\r\n\r\n  set damaged(value: boolean) {\r\n    if (this.sight)\r\n      this.sight.damaged = value;\r\n\r\n    this._damaged = value;\r\n  }\r\n\r\n  readonly id: string;\r\n  readonly model: string;\r\n  readonly description: string;\r\n  readonly range: number;\r\n  readonly shots: number;\r\n  readonly damage: number;\r\n  readonly type: WeaponType;\r\n  readonly traits: WeaponTrait[];\r\n\r\n  hitBonus: number;\r\n  mod!: WeaponMod | null;\r\n  sight!: WeaponSight | null;\r\n\r\n  constructor(\r\n    model: string,\r\n    description: string,\r\n    {\r\n      damaged = false,\r\n      range = 0,\r\n      shots = 0,\r\n      damage = 0,\r\n      hitBonus = 0,\r\n      type = null,\r\n      traits = new Array<WeaponTrait>(),\r\n      mod = null,\r\n      sight = null,\r\n\r\n    }: Partial<WeaponConfig> = {},\r\n    id: string | null = null\r\n  ) {\r\n    this.id = id ?? uuid();\r\n    this.model = model;\r\n    this.description = description;\r\n    this.range = range;\r\n    this.shots = shots;\r\n    this.damage = damage;\r\n    this.hitBonus = hitBonus;\r\n    this.traits = traits;\r\n    this.mod = mod;\r\n    this.sight = sight;\r\n    this.damaged = damaged;\r\n    this.type = type ?? this.getType();\r\n  }\r\n\r\n  static Restore = (val: any): Weapon => {\r\n    switch (val.type) {\r\n      case WeaponType.Melee:\r\n        return new Melee(\r\n          val.model,\r\n          val.description,\r\n          {\r\n            damaged: val.damanged,\r\n            range: val.range,\r\n            shots: val.shots,\r\n            damage: val.damage,\r\n            hitBonus: val.hitBonus,\r\n            type: val.type,\r\n            traits: val.traits,\r\n            mod: val.mod,\r\n            sight: val.sight\r\n          },\r\n          val.id\r\n        );\r\n      case WeaponType.Pistol:\r\n        return new Pistol(\r\n          val.model,\r\n          val.description,\r\n          {\r\n            damaged: val.damanged,\r\n            range: val.range,\r\n            shots: val.shots,\r\n            damage: val.damage,\r\n            hitBonus: val.hitBonus,\r\n            type: val.type,\r\n            traits: val.traits,\r\n            mod: val.mod,\r\n            sight: val.sight\r\n          },\r\n          val.id\r\n        );\r\n      case WeaponType.Sidearm:\r\n        return new Sidearm(\r\n          val.model,\r\n          val.description,\r\n          {\r\n            damaged: val.damanged,\r\n            range: val.range,\r\n            shots: val.shots,\r\n            damage: val.damage,\r\n            hitBonus: val.hitBonus,\r\n            type: val.type,\r\n            traits: val.traits,\r\n            mod: val.mod,\r\n            sight: val.sight\r\n          },\r\n          val.id\r\n        );\r\n      default:\r\n        return new Weapon(\r\n          val.model,\r\n          val.description,\r\n          {\r\n            damaged: val.damanged,\r\n            range: val.range,\r\n            shots: val.shots,\r\n            damage: val.damage,\r\n            hitBonus: val.hitBonus,\r\n            type: val.type,\r\n            traits: val.traits,\r\n            mod: val.mod,\r\n            sight: val.sight\r\n          },\r\n          val.id\r\n        );\r\n    }\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      id: this.id,\r\n      model: this.model,\r\n      description: this.description,\r\n      range: this.range,\r\n      shots: this.shots,\r\n      damage: this.damage,\r\n      hitBonus: this.hitBonus,\r\n      type: this.type,\r\n      traits: this.traits,\r\n      mod: this.mod,\r\n      sight: this.sight,\r\n      damaged: this.damaged\r\n    }\r\n  }\r\n\r\n  hasTrait = (trait: WeaponTrait) =>\r\n    this.traits.some((t: WeaponTrait) => t === trait);\r\n\r\n  isType = <T extends Weapon>(t: Constructor<T>) => this instanceof t;\r\n\r\n  getType = (): WeaponType => {\r\n    switch (true) {\r\n      case (this.isType(Melee)):\r\n        return WeaponType.Melee;\r\n      case (this.isType(Pistol)):\r\n        return WeaponType.Pistol;\r\n      case (this.isType(Sidearm)):\r\n        return WeaponType.Sidearm;\r\n      default:\r\n        return WeaponType.Weapon;\r\n    }\r\n  }\r\n\r\n  canAddMod = (mod: WeaponMod) => {\r\n    if (this.mod)\r\n      return false;\r\n\r\n    if (this.shots < 2)\r\n      return false;\r\n\r\n    if (this.isType(Melee))\r\n      return false;\r\n\r\n    if (!(mod.allowPistol) && this.isType(Pistol))\r\n      return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  canAddSight = (sight: WeaponSight) => {\r\n    if (this.sight)\r\n      return false;\r\n\r\n    if (this.shots < 2)\r\n      return false;\r\n\r\n    if (this.isType(Melee))\r\n      return false;\r\n\r\n    if (sight.pistolOnly && !this.isType(Pistol))\r\n      return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  addMod = (mod: WeaponMod) =>\r\n    this.mod = this.canAddMod(mod)\r\n      ? mod\r\n      : this.mod;\r\n\r\n  addSight = (sight: WeaponSight) =>\r\n    this.sight = this.canAddSight(sight)\r\n      ? sight\r\n      : this.sight;\r\n\r\n  removeSight = (): WeaponSight | null => {\r\n    const sight = this.sight;\r\n    this.sight = null;\r\n    return sight;\r\n  }\r\n\r\n  swapSight = (weapon: Weapon) => {\r\n    const swap = weapon.sight;\r\n    weapon.sight = this.sight;\r\n    this.sight = swap;\r\n  }\r\n}\r\n\r\nexport class Sidearm extends Weapon { }\r\nexport class Pistol extends Sidearm { }\r\nexport class Melee extends Sidearm { }\r\n","import { Datalist } from '../core';\r\nimport { WeaponTrait } from '../enums';\r\n\r\nimport {\r\n  Melee,\r\n  Pistol,\r\n  Weapon\r\n} from '../models/equipment/weapon';\r\n\r\nexport const HighTechWeapons = {\r\n  DuelingPistol: () => new Pistol(\"Dueling Pistol\", \"High Tech\", {\r\n    range: 8,\r\n    shots: 1,\r\n    traits: [\r\n      WeaponTrait.Pistol,\r\n      WeaponTrait.Critical\r\n    ]\r\n  }),\r\n  HandCannon: () => new Pistol(\"Hand Cannon\", \"High Tech\", {\r\n    range: 8,\r\n    shots: 1,\r\n    damage: 2,\r\n    traits: [WeaponTrait.Pistol]\r\n  }),\r\n  HandLaser: () => new Pistol(\"Hand Laser\", \"High Tech\", {\r\n    range: 12,\r\n    shots: 1,\r\n    traits: [\r\n      WeaponTrait.Pistol,\r\n      WeaponTrait.SnapShot\r\n    ]\r\n  }),\r\n  BeamPistol: () => new Pistol(\"Beam Pistol\", \"High Tech\", {\r\n    range: 10,\r\n    shots: 1,\r\n    damage: 1,\r\n    traits: [\r\n      WeaponTrait.Pistol,\r\n      WeaponTrait.Critical\r\n    ]\r\n  }),\r\n  InfantryLaser: () => new Weapon(\"Infantry Laser\", \"High Tech\", {\r\n    range: 30,\r\n    shots: 1,\r\n    traits: [WeaponTrait.SnapShot]\r\n  }),\r\n  BlastPistol: () => new Pistol(\"Blast Pistol\", \"High Tech\", {\r\n    range: 8,\r\n    shots: 1,\r\n    damage: 1,\r\n    traits: [WeaponTrait.Pistol]\r\n  }),\r\n  BlastRifle: () => new Weapon(\"Blast Rifle\", \"High Tech\", {\r\n    range: 16,\r\n    shots: 1,\r\n    damage: 1\r\n  }),\r\n  PlasmaRifle: () => new Weapon(\"Plasma Rifle\", \"High Tech\", {\r\n    range: 20,\r\n    shots: 2,\r\n    damage: 1,\r\n    traits: [\r\n      WeaponTrait.Focused,\r\n      WeaponTrait.Piercing\r\n    ]\r\n  }),\r\n  GlareSword: () => new Melee(\"Glare Sword\", \"High Tech\", {\r\n    traits: [\r\n      WeaponTrait.Melee,\r\n      WeaponTrait.Elegant,\r\n      WeaponTrait.Piercing\r\n    ]\r\n  })\r\n}\r\n\r\nexport const HighTechWeaponList = Datalist(HighTechWeapons);\r\n\r\nexport const LowTechWeapons = {\r\n  Handgun: () => new Pistol(`Handgun`, `Low Tech`, {\r\n    range: 12,\r\n    shots: 1,\r\n    traits: [WeaponTrait.Pistol]\r\n  }),\r\n  ScrapPistol: () => new Pistol(\"Scrap Pistol\", \"Low Tech\", {\r\n    range: 9,\r\n    shots: 1,\r\n    traits: [WeaponTrait.Pistol]\r\n  }),\r\n  MachinePistol: () => new Pistol(\"Machine Pistol\", \"Low Tech\", {\r\n    range: 8,\r\n    shots: 2,\r\n    traits: [\r\n      WeaponTrait.Pistol,\r\n      WeaponTrait.Focused\r\n    ]\r\n  }),\r\n  ColonyRifle: () => new Weapon(\"Colony Rifle\", \"Low Tech\", {\r\n    range: 18,\r\n    shots: 1\r\n  }),\r\n  Shotgun: () => new Weapon(\"Shotgun\", \"Low Tech\", {\r\n    range: 12,\r\n    shots: 2,\r\n    damage: 1,\r\n    traits: [WeaponTrait.Focused]\r\n  }),\r\n  HuntingRifle: () => new Weapon(\"Hunting Rifle\", \"Low Tech\", {\r\n    range: 30,\r\n    shots: 1,\r\n    damage: 1,\r\n    traits: [WeaponTrait.Heavy]\r\n  }),\r\n  Blade: () => new Melee(\"Blade\", \"Low Tech\", {\r\n    traits: [WeaponTrait.Melee]\r\n  }),\r\n  BrutalMeleeWeapon: () => new Melee(\"Brutal Melee Weapon\", \"Low Tech\", {\r\n    damage: 1,\r\n    traits: [\r\n      WeaponTrait.Melee,\r\n      WeaponTrait.Clumsy\r\n    ]\r\n  })\r\n}\r\n\r\nexport const LowTechWeaponList = Datalist(LowTechWeapons);\r\n\r\nexport const MilitaryWeapons = {\r\n  MilitaryRifle: () => new Weapon(\"Military Rifle\", \"Military\", {\r\n    range: 24,\r\n    shots: 1\r\n  }),\r\n  InfantryLaser: () => new Weapon(\"Infantry Laser\", \"Military\", {\r\n    range: 30,\r\n    shots: 1,\r\n    traits: [WeaponTrait.SnapShot]\r\n  }),\r\n  MarksmansRifle: () => new Weapon(\"Marksman's Rifle\", \"Military\", {\r\n    range: 36,\r\n    shots: 1,\r\n    traits: [WeaponTrait.Heavy]\r\n  }),\r\n  NeedleRifle: () => new Weapon(\"Needle Rifle\", \"Military\", {\r\n    range: 18,\r\n    shots: 2,\r\n    traits: [WeaponTrait.Critical]\r\n  }),\r\n  AutoRifle: () => new Weapon(\"Auto Rifle\", \"Military\", {\r\n    range: 24,\r\n    shots: 2\r\n  }),\r\n  RattleGun: () => new Weapon(\"Rattle Gun\", \"Military\", {\r\n    range: 24,\r\n    shots: 3,\r\n    traits: [WeaponTrait.Heavy]\r\n  }),\r\n  BoardingSaber: () => new Melee(\"Boarding Saber\", \"Military\", {\r\n    damage: 1,\r\n    traits: [\r\n      WeaponTrait.Melee,\r\n      WeaponTrait.Elegant\r\n    ]\r\n  }),\r\n  ShatterAxe: () => new Melee(\"Shatter Axe\", \"Military\", {\r\n    damage: 2,\r\n    traits: [WeaponTrait.Melee]\r\n  })\r\n}\r\n\r\nexport const MilitaryWeaponList = Datalist(MilitaryWeapons);\r\n","import { Weapon } from '../models/equipment/weapon';\r\n\r\nimport {\r\n  d100,\r\n  Generator,\r\n  GeneratorOption\r\n} from '../core';\r\n\r\nimport {\r\n  HighTechWeapons,\r\n  LowTechWeapons,\r\n  MilitaryWeapons\r\n} from '../data/weapon.data';\r\n\r\nexport abstract class WeaponGenerator {\r\n  static GenerateArmory = (savvyUpgrades: number = 0): Weapon[] => {\r\n    const weapons = new Array<Weapon>();\r\n\r\n    for (let i = 0; i < 3; i++) {\r\n      weapons.push(\r\n        savvyUpgrades > i\r\n          ? this.GenerateHighTech()\r\n          : this.GenerateMilitary()\r\n      );\r\n\r\n      weapons.push(WeaponGenerator.GenerateLowTech());\r\n    }\r\n\r\n    return weapons;\r\n  }\r\n  static GenerateHighTech = (): Weapon =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 5], HighTechWeapons.DuelingPistol()\r\n      ),\r\n      new GeneratorOption(\r\n        [6, 15], HighTechWeapons.HandCannon()\r\n      ),\r\n      new GeneratorOption(\r\n        [16, 30], HighTechWeapons.HandLaser()\r\n      ),\r\n      new GeneratorOption(\r\n        [31, 45], HighTechWeapons.BeamPistol()\r\n      ),\r\n      new GeneratorOption(\r\n        [46, 55], HighTechWeapons.InfantryLaser()\r\n      ),\r\n      new GeneratorOption(\r\n        [56, 70], HighTechWeapons.BlastPistol()\r\n      ),\r\n      new GeneratorOption(\r\n        [71, 80], HighTechWeapons.BlastRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [81, 85], HighTechWeapons.PlasmaRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [86, 100], HighTechWeapons.GlareSword()\r\n      )\r\n    ]);\r\n\r\n  static GenerateLowTech = (): Weapon =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 15], LowTechWeapons.Handgun()\r\n      ),\r\n      new GeneratorOption(\r\n        [16, 35], LowTechWeapons.ScrapPistol()\r\n      ),\r\n      new GeneratorOption(\r\n        [36, 40], LowTechWeapons.MachinePistol()\r\n      ),\r\n      new GeneratorOption(\r\n        [41, 65], LowTechWeapons.ColonyRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [66, 75], LowTechWeapons.Shotgun()\r\n      ),\r\n      new GeneratorOption(\r\n        [76, 80], LowTechWeapons.HuntingRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [81, 95], LowTechWeapons.Blade()\r\n      ),\r\n      new GeneratorOption(\r\n        [96, 100], LowTechWeapons.BrutalMeleeWeapon()\r\n      )\r\n    ]);\r\n\r\n  static GenerateMilitary = (): Weapon =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 25], MilitaryWeapons.MilitaryRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [26, 45], MilitaryWeapons.InfantryLaser()\r\n      ),\r\n      new GeneratorOption(\r\n        [46, 50], MilitaryWeapons.MarksmansRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [51, 60], MilitaryWeapons.NeedleRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [61, 75], MilitaryWeapons.AutoRifle()\r\n      ),\r\n      new GeneratorOption(\r\n        [76, 80], MilitaryWeapons.RattleGun()\r\n      ),\r\n      new GeneratorOption(\r\n        [81, 95], MilitaryWeapons.BoardingSaber()\r\n      ),\r\n      new GeneratorOption(\r\n        [96, 100], MilitaryWeapons.ShatterAxe()\r\n      )\r\n    ]);\r\n}\r\n","export class CampaignResource {\r\n  credits: number;\r\n  storyPoints: number;\r\n  rumors: number;\r\n  patrons: number;\r\n  rivals: number;\r\n\r\n  constructor({\r\n    credits = 0,\r\n    storyPoints = 0,\r\n    rumors = 0,\r\n    patrons = 0,\r\n    rivals = 0\r\n  } = {}) {\r\n    this.credits = credits;\r\n    this.storyPoints = storyPoints;\r\n    this.rumors = rumors;\r\n    this.patrons = patrons;\r\n    this.rivals = rivals;\r\n  }\r\n\r\n  consolidate = (resources: CampaignResource[]) =>\r\n    resources.forEach(r => {\r\n      this.credits += r.credits;\r\n      this.patrons += r.patrons;\r\n      this.rivals += r.rivals;\r\n      this.rumors += r.rumors;\r\n      this.storyPoints += r.storyPoints;\r\n    });\r\n\r\n  static Restore = (val: any) =>\r\n    new CampaignResource({\r\n      credits: val.credits,\r\n      storyPoints: val.storyPoints,\r\n      rumors: val.rumors,\r\n      patrons: val.patrons,\r\n      rivals: val.rivals\r\n    });\r\n}\r\n","import { CharacterEffect } from './character-effect';\r\nimport { CharacterStat } from '../../enums';\r\n\r\nexport interface CharacterProfileConfig {\r\n  maxReaction: number;\r\n  maxSpeed: number;\r\n  maxCombatSkill: number;\r\n  maxToughness: number;\r\n  maxSavvy: number;\r\n  maxLuck: number;\r\n  maxXp: number;\r\n  reaction: number;\r\n  speed: number;\r\n  combatSkill: number;\r\n  toughness: number;\r\n  savvy: number;\r\n  luck: number;\r\n  xp: number;\r\n  useConsumables: boolean;\r\n  useImplants: boolean;\r\n  eventTarget: boolean;\r\n}\r\n\r\nexport class CharacterProfile {\r\n  readonly maxReaction: number;\r\n  readonly maxSpeed: number;\r\n  readonly maxCombatSkill: number;\r\n  readonly maxToughness: number;\r\n  readonly maxSavvy: number;\r\n  readonly maxLuck: number;\r\n  readonly maxXp: number;\r\n\r\n  /*\r\n    Bots cannot use consumables\r\n  */\r\n  readonly useConsumables: boolean;\r\n  /*\r\n    Bots cannot use implants\r\n  */\r\n  readonly useImplants: boolean;\r\n  /*\r\n    Bots cannot be the target of character events\r\n  */\r\n  readonly eventTarget: boolean;\r\n\r\n  private _reaction: number = 0;\r\n  private _speed: number = 0;\r\n  private _combatSkill: number = 0;\r\n  private _toughness: number = 0;\r\n  private _savvy: number= 0;\r\n  private _luck: number = 0;\r\n  private _xp: number= 0;\r\n\r\n  constructor(\r\n    {\r\n      maxCombatSkill = 5,\r\n      maxReaction = 6,\r\n      maxSpeed = 8,\r\n      maxToughness = 6,\r\n      maxSavvy = 5,\r\n      maxLuck = 1,\r\n      maxXp = Number.MAX_VALUE,\r\n      reaction = 1,\r\n      speed = 4,\r\n      combatSkill = 0,\r\n      toughness = 3,\r\n      savvy = 0,\r\n      luck = 0,\r\n      xp = 0,\r\n      useConsumables = true,\r\n      useImplants = true,\r\n      eventTarget = true\r\n    }: Partial<CharacterProfileConfig> = {}\r\n  ) {\r\n    this.maxCombatSkill = maxCombatSkill;\r\n    this.maxReaction = maxReaction;\r\n    this.maxSpeed = maxSpeed;\r\n    this.maxToughness = maxToughness;\r\n    this.maxSavvy = maxSavvy;\r\n    this.maxLuck = maxLuck;\r\n    this.maxXp = maxXp;\r\n\r\n    this.reaction = reaction;\r\n    this.speed = speed;\r\n    this.combatSkill = combatSkill;\r\n    this.toughness = toughness;\r\n    this.savvy = savvy;\r\n    this.luck = luck;\r\n    this.xp = xp;\r\n\r\n    this.useConsumables = useConsumables;\r\n    this.useImplants = useImplants;\r\n    this.eventTarget = eventTarget;\r\n  }\r\n\r\n  static Restore = (val: any) =>\r\n    new CharacterProfile(val);\r\n\r\n  toJSON() {\r\n    return {\r\n      maxCombatSkill: this.maxCombatSkill,\r\n      maxReaction: this.maxReaction,\r\n      maxSpeed: this.maxSpeed,\r\n      maxToughness: this.maxToughness,\r\n      maxSavvy: this.maxSavvy,\r\n      maxLuck: this.maxLuck,\r\n      maxXp: this.maxXp,\r\n      reaction: this.reaction,\r\n      speed: this.speed,\r\n      combatSkill: this.combatSkill,\r\n      toughness: this.toughness,\r\n      savvy: this.savvy,\r\n      luck: this.luck,\r\n      xp: this.xp,\r\n      useConsumables: this.useConsumables,\r\n      useImplants: this.useImplants,\r\n      eventTarget: this.eventTarget\r\n    }\r\n  }\r\n\r\n  get reaction(): number { return this._reaction; }\r\n\r\n  set reaction(value: number) {\r\n    this._reaction = value > this.maxReaction\r\n      ? this.maxReaction\r\n      : value;\r\n  }\r\n\r\n  get speed(): number { return this._speed; }\r\n\r\n  set speed(value: number) {\r\n    this._speed = value > 8\r\n      ? 8\r\n      : value;\r\n  }\r\n\r\n  get combatSkill(): number { return this._combatSkill; }\r\n\r\n  set combatSkill(value: number) {\r\n    this._combatSkill = value > this.maxCombatSkill\r\n      ? this.maxCombatSkill\r\n      : value;\r\n  }\r\n\r\n  get toughness(): number { return this._toughness; }\r\n\r\n  set toughness(value: number) {\r\n    this._toughness = value > this.maxToughness\r\n      ? this.maxToughness\r\n      : value;\r\n  }\r\n\r\n  get savvy(): number { return this._savvy; }\r\n\r\n  set savvy(value: number) {\r\n    this._savvy = value > this.maxSavvy\r\n      ? this.maxSavvy\r\n      : value;\r\n  }\r\n\r\n  get luck(): number { return this._luck; }\r\n\r\n  set luck(value: number) {\r\n    this._luck = value > this.maxLuck\r\n      ? this.maxLuck\r\n      : value;\r\n  }\r\n\r\n  get xp(): number { return this._xp; }\r\n\r\n  set xp(value: number) {\r\n    this._xp = value > this.maxXp\r\n      ? this.maxXp\r\n      : value;\r\n  }\r\n\r\n  applyEffects = (effects: CharacterEffect[]) =>\r\n    effects.forEach(effect => this.applyEffect(effect));\r\n\r\n  applyEffect = (effect: CharacterEffect) => {\r\n    switch (effect.stat) {\r\n      case CharacterStat.CombatSkill:\r\n        this.combatSkill += effect.points;\r\n        break;\r\n      case CharacterStat.Luck:\r\n        this.luck += effect.points;\r\n        break;\r\n      case CharacterStat.Reactions:\r\n        this.reaction += effect.points;\r\n        break;\r\n      case CharacterStat.Savvy:\r\n        this.savvy += effect.points;\r\n        break;\r\n      case CharacterStat.Speed:\r\n        this.speed += effect.points;\r\n        break;\r\n      case CharacterStat.Toughness:\r\n        this.toughness += effect.points;\r\n        break;\r\n      case CharacterStat.XP:\r\n        this.xp += effect.points;\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { CharacterDetail } from './character-detail';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nimport {\r\n  CharacterProfileConfig,\r\n  CharacterProfile\r\n} from './character-profile';\r\n\r\nimport {\r\n  CharacterRace,\r\n  CharacterSpecies\r\n} from '../../enums';\r\n\r\nimport {\r\n  Equipment,\r\n  Weapon,\r\n  Sidearm,\r\n  UtilityDevice\r\n} from '../equipment';\r\n\r\nexport interface CharacterConfig {\r\n  id: string | null;\r\n  name: string;\r\n  background: string;\r\n  motivation: string;\r\n  charClass: string;\r\n  equipment: Equipment[];\r\n  weapons: Weapon[];\r\n  devices: [UtilityDevice?, UtilityDevice?, UtilityDevice?];\r\n  sidearm: Sidearm | null;\r\n  isLeader: boolean;\r\n}\r\n\r\nexport class Character {\r\n  readonly id: string;\r\n  readonly race: CharacterRace;\r\n  readonly species: CharacterSpecies;\r\n  readonly profile: CharacterProfile;\r\n\r\n  name: string;\r\n  background: string;\r\n  motivation: string;\r\n  charClass: string;\r\n\r\n  equipment: Equipment[] = new Array<Equipment>();\r\n  weapons: Weapon[] = new Array<Weapon>();\r\n  devices: [UtilityDevice?, UtilityDevice?, UtilityDevice?];\r\n  sidearm: Sidearm | null = null;\r\n  isLeader: boolean = false;\r\n\r\n  constructor(\r\n    species: CharacterSpecies,\r\n    {\r\n      maxCombatSkill = 5,\r\n      maxReaction = 6,\r\n      maxSpeed = 8,\r\n      maxToughness = 6,\r\n      maxSavvy = 5,\r\n      maxLuck = 1,\r\n      maxXp = Number.MAX_VALUE,\r\n      reaction = 1,\r\n      speed = 4,\r\n      combatSkill = 0,\r\n      toughness = 3,\r\n      savvy = 0,\r\n      luck = 0,\r\n      xp = 0,\r\n      useConsumables = true,\r\n      useImplants = true,\r\n      eventTarget = true\r\n    }: Partial<CharacterProfileConfig> = {},\r\n    {\r\n      id = null,\r\n      name = '',\r\n      background = '',\r\n      charClass = '',\r\n      motivation = '',\r\n      devices = [],\r\n      equipment = new Array<Equipment>(),\r\n      weapons = new Array<Weapon>(),\r\n      isLeader = false,\r\n      sidearm = null\r\n    }: Partial<CharacterConfig> = {}\r\n  ) {\r\n    this.id = id ?? uuid();\r\n    this.species = species;\r\n    this.profile = new CharacterProfile({\r\n      reaction, maxReaction,\r\n      speed, maxSpeed,\r\n      combatSkill, maxCombatSkill,\r\n      toughness, maxToughness,\r\n      savvy, maxSavvy,\r\n      luck, maxLuck,\r\n      xp, maxXp,\r\n      useConsumables, useImplants,\r\n      eventTarget\r\n    });\r\n\r\n    this.name = name;\r\n    this.background = background;\r\n    this.charClass = charClass;\r\n    this.motivation = motivation;\r\n    this.devices = devices;\r\n    this.equipment = equipment;\r\n    this.weapons = weapons;\r\n    this.isLeader = isLeader;\r\n    this.sidearm = sidearm;\r\n\r\n    this.race = this.setRace();\r\n  }\r\n\r\n  static Restore = (val: any): Character =>\r\n    new Character(\r\n      val.species,\r\n      CharacterProfile.Restore(val.profile),\r\n      {\r\n        id: val.id,\r\n        name: val.name,\r\n        background: val.background,\r\n        charClass: val.charClass,\r\n        motivation: val.motivation,\r\n        devices: val.devices.map((d: any) => UtilityDevice.Restore(d)),\r\n        equipment: val.equipment.map((e: any) => Equipment.Restore(e)),\r\n        weapons: val.weapons.map((w: any) => Weapon.Restore(w)),\r\n        isLeader: val.isLeader,\r\n        sidearm: val.sidearm ? Sidearm.Restore(val.sidearm) : null\r\n      }\r\n    );\r\n\r\n  private setRace = (): CharacterRace => {\r\n    switch (this.species) {\r\n      case CharacterSpecies.Engineer:\r\n      case CharacterSpecies.Feral:\r\n      case CharacterSpecies.Hakshan:\r\n      case CharacterSpecies.KErin:\r\n      case CharacterSpecies.Manipulator:\r\n      case CharacterSpecies.Precursor:\r\n      case CharacterSpecies.Soulless:\r\n      case CharacterSpecies.Swift:\r\n        return CharacterRace.Alien;\r\n      case CharacterSpecies.AssaultBot:\r\n      case CharacterSpecies.Bot:\r\n        return CharacterRace.Bot;\r\n      case CharacterSpecies.BioUpgrade:\r\n      case CharacterSpecies.EmoSuppressed:\r\n      case CharacterSpecies.Empath:\r\n      case CharacterSpecies.Feeler:\r\n      case CharacterSpecies.Human:\r\n      case CharacterSpecies.MinorAlien:\r\n      case CharacterSpecies.Mutant:\r\n      case CharacterSpecies.MysteriousPast:\r\n      case CharacterSpecies.Primitive:\r\n        return CharacterRace.Human;\r\n      default:\r\n        return CharacterRace.Strange;\r\n    }\r\n  }\r\n\r\n  promoteLeader = () => {\r\n    this.isLeader = true;\r\n    this.profile.luck += 1;\r\n  }\r\n\r\n  applyDetail = (cd: CharacterDetail) => {\r\n    if (cd.effects && cd.effects.length > 0)\r\n      this.profile.applyEffects(cd.effects);\r\n\r\n    if (cd.equipment && cd.equipment.length > 0)\r\n      this.equipment.push(...cd.equipment);\r\n\r\n    if (cd.weapons && cd.weapons.length > 0)\r\n      this.weapons.push(...cd.weapons);\r\n  }\r\n}\r\n\r\n","import { CharacterEffect } from './character-effect';\r\nimport { CampaignResource } from '../campaign/campaign-resource';\r\n\r\nimport {\r\n  Equipment,\r\n  Weapon\r\n} from '../equipment';\r\n\r\ninterface CharacterDetailConfig {\r\n  effects: CharacterEffect[] | null,\r\n  resources: CampaignResource,\r\n  equipment: Equipment[] | null,\r\n  weapons: Weapon[] | null\r\n}\r\n\r\nexport class CharacterDetail {\r\n  detail: string;\r\n  effects: CharacterEffect[] | null;\r\n  resources: CampaignResource = new CampaignResource();\r\n  equipment: Equipment[] | null = null;\r\n  weapons: Weapon[] | null = null;\r\n\r\n  constructor(\r\n    detail: string,\r\n    {\r\n      effects = null,\r\n      resources = new CampaignResource(),\r\n      equipment = null,\r\n      weapons = null,\r\n    }: Partial<CharacterDetailConfig> = {}\r\n  ) {\r\n    this.detail = detail;\r\n    this.effects = effects;\r\n    this.resources = resources;\r\n    this.equipment = equipment;\r\n    this.weapons = weapons;\r\n  }\r\n\r\n  private mergeEffects = (cd: CharacterDetail) => {\r\n    if (this.effects && cd.effects)\r\n      this.effects.push(...cd.effects);\r\n    else if (cd.effects)\r\n      this.effects = cd.effects;\r\n  }\r\n\r\n  private mergeEquipment = (cd: CharacterDetail) => {\r\n    if (this.equipment && cd.equipment)\r\n      this.equipment.push(...cd.equipment);\r\n    else if (cd.equipment)\r\n      this.equipment = cd.equipment;\r\n  }\r\n\r\n  private mergeWeapons = (cd: CharacterDetail) => {\r\n    if (this.weapons && cd.weapons)\r\n      this.weapons.push(...cd.weapons);\r\n    else if (cd.weapons)\r\n      this.weapons = cd.weapons;\r\n  }\r\n\r\n  merge = (cd: CharacterDetail) => {\r\n    this.detail = `${this.detail} : ${cd.detail}`;\r\n    this.mergeEffects(cd);\r\n    this.resources.consolidate([cd.resources]);\r\n    this.mergeEquipment(cd);\r\n    this.mergeWeapons(cd);\r\n  }\r\n}\r\n","import { EquipmentGenerator } from '../generators/equipment.generator';\r\nimport { WeaponGenerator } from '../generators/weapon.generator';\r\nimport { CampaignResource } from '../models/campaign/campaign-resource';\r\nimport { Character } from '../models/character/character';\r\nimport { CharacterDetail } from '../models/character/character-detail';\r\nimport { CharacterProfileConfig } from '../models/character/character-profile';\r\n\r\nimport {\r\n  d6,\r\n  dice,\r\n  Datalist\r\n} from '../core';\r\n\r\nimport {\r\n  CharacterSpecies,\r\n  CharacterStat\r\n} from '../enums';\r\n\r\nexport const Backgrounds = {\r\n  PeacefulHighTechColony: () => new CharacterDetail(`Peaceful, High-Tech Colony`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    resources: new CampaignResource({ credits: d6() })\r\n  }),\r\n  GiantOvercrowdedDystopianCity: () => new CharacterDetail(`Giant, Overcrowded, Dystopian City`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Speed }]\r\n  }),\r\n  LowTechColony: () => new CharacterDetail(`Low-Tech Colony`, {\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  MiningColony: () => new CharacterDetail(`Mining Colony`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Toughness }]\r\n  }),\r\n  MilitaryBrat: () => new CharacterDetail(`Military Brat`, {\r\n    effects: [{ points: 1, stat: CharacterStat.CombatSkill }]\r\n  }),\r\n  SpaceStation: () => new CharacterDetail(`Space Station`, {\r\n    equipment: [EquipmentGenerator.GenerateGear()]\r\n  }),\r\n  MilitaryOutpost: () => new CharacterDetail(`Military Outpost`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Reactions }]\r\n  }),\r\n  Drifter: () => new CharacterDetail(`Drifter`, {\r\n    equipment: [EquipmentGenerator.GenerateGear()]\r\n  }),\r\n  LowerMegacityClass: () => new CharacterDetail(`Lower Megacity Class`, {\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  WealthyMerchantFamily: () => new CharacterDetail(`Wealthy Merchant Family`, {\r\n    resources: new CampaignResource({ credits: dice({ six: 2 }).total })\r\n  }),\r\n  FrontierGang: () => new CharacterDetail(`Frontier Gang`, {\r\n    effects: [{ points: 1, stat: CharacterStat.CombatSkill }]\r\n  }),\r\n  ReligiousCult: () => new CharacterDetail(`Religious Cult`, {\r\n    resources: new CampaignResource({\r\n      patrons: 1,\r\n      storyPoints: 1\r\n    })\r\n  }),\r\n  WarTornHellHole: () => new CharacterDetail(`War-Torn Hell-Hole`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Reactions }],\r\n    weapons: [WeaponGenerator.GenerateMilitary()]\r\n  }),\r\n  TechGuild: () => new CharacterDetail(`Tech Guild`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    resources: new CampaignResource({ credits: d6() }),\r\n    weapons: [WeaponGenerator.GenerateHighTech()]\r\n  }),\r\n  SubjugatedColonyOnAlienWorld: () => new CharacterDetail(`Subjugated Colony on Alien World`, {\r\n    equipment: [EquipmentGenerator.GenerateGadget()]\r\n  }),\r\n  LongTermSpaceMission: () => new CharacterDetail(`Long-Term Space Mission`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }]\r\n  }),\r\n  ResearchOutpost: () => new CharacterDetail(`Research Outpost`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    equipment: [EquipmentGenerator.GenerateGadget()]\r\n  }),\r\n  PrimitiveOrRegressedWorld: () => new CharacterDetail(`Primitive or Regressed World`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Toughness }],\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  OrphanUtilityProgram: () => new CharacterDetail(`Orphan Utility Program`, {\r\n    resources: new CampaignResource({\r\n      patrons: 1,\r\n      storyPoints: 1\r\n    })\r\n  }),\r\n  IsolationistEnclave: () => new CharacterDetail(`Isolationist Enclave`, {\r\n    resources: new CampaignResource({ rumors: 2 })\r\n  }),\r\n  ComfortableMegacityClass: () => new CharacterDetail(`Comfortable Megacity Class`, {\r\n    resources: new CampaignResource({ credits: d6() })\r\n  }),\r\n  IndustrialWorld: () => new CharacterDetail(`Industrial World`, {\r\n    equipment: [EquipmentGenerator.GenerateGear()]\r\n  }),\r\n  Bureaucrat: () => new CharacterDetail(`Bureaucrat`, {\r\n    resources: new CampaignResource({ credits: d6() })\r\n  }),\r\n  WastelandNomads: () => new CharacterDetail(`Wasteland Nomads`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Reactions }],\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  AlienCulture: () => new CharacterDetail(`Alien Culture`, {\r\n    weapons: [WeaponGenerator.GenerateHighTech()]\r\n  })\r\n}\r\n\r\nexport const BackgroundList = Datalist(Backgrounds);\r\n\r\nconst BOT_PROFILE = {\r\n  reaction: 2,\r\n  combatSkill: 1,\r\n  toughness: 4,\r\n  savvy: 2,\r\n  maxLuck: 0,\r\n  maxXp: 0,\r\n  useConsumables: false,\r\n  useImplants: false,\r\n  eventTarget: false\r\n} as Partial<CharacterProfileConfig>;\r\n\r\nconst HUMAN_PROFILE = {\r\n  maxLuck: 3\r\n} as Partial<CharacterProfileConfig>;\r\n\r\nexport const Characters = {\r\n  AssaultBot: () => new Character(CharacterSpecies.AssaultBot, BOT_PROFILE),\r\n  BioUpgrade: () => new Character(CharacterSpecies.BioUpgrade, HUMAN_PROFILE),\r\n  Bot: () => new Character(CharacterSpecies.Bot, BOT_PROFILE),\r\n  DeConverted: () => new Character(CharacterSpecies.DeConverted, {\r\n    maxSavvy: 0\r\n  }),\r\n  EmoSuppressed: () => new Character(CharacterSpecies.EmoSuppressed, {\r\n    maxLuck: 0\r\n  }),\r\n  Empath: () => new Character(CharacterSpecies.Empath, HUMAN_PROFILE),\r\n  Engineer: () => new Character(CharacterSpecies.Engineer, {\r\n    maxToughness: 4,\r\n    toughness: 2,\r\n    savvy: 1\r\n  }),\r\n  Feeler: () => new Character(CharacterSpecies.Feeler, HUMAN_PROFILE),\r\n  Feral: () => new Character(CharacterSpecies.Feral),\r\n  GeneticUplift: () => new Character(CharacterSpecies.GeneticUplift, {\r\n    reaction: 2,\r\n    speed: 5,\r\n    combatSkill: 1,\r\n    toughness: 4,\r\n    savvy: 1\r\n  }),\r\n  Hakshan: () => new Character(CharacterSpecies.Hakshan),\r\n  HopefulRookie: () => new Character(CharacterSpecies.HopefulRookie, HUMAN_PROFILE),\r\n  Hulker: () => new Character(CharacterSpecies.Hulker, {\r\n    combatSkill: 1,\r\n    toughness: 5\r\n  }),\r\n  Human: () => new Character(CharacterSpecies.Human, HUMAN_PROFILE),\r\n  KErin: () => new Character(CharacterSpecies.KErin, {\r\n    toughness: 4\r\n  }),\r\n  Manipulator: () => new Character(CharacterSpecies.Manipulator, {\r\n    reaction: 2,\r\n    savvy: 1\r\n  }),\r\n  MinorAlien: () => new Character(CharacterSpecies.MinorAlien, HUMAN_PROFILE),\r\n  Mutant: () => new Character(CharacterSpecies.Mutant, HUMAN_PROFILE),\r\n  MysteriousPast: () => new Character(CharacterSpecies.MysteriousPast, HUMAN_PROFILE),\r\n  Precursor: () => new Character(CharacterSpecies.Precursor, {\r\n    speed: 5,\r\n    toughness: 2\r\n  }),\r\n  Primitive: () => new Character(CharacterSpecies.Primitive, HUMAN_PROFILE),\r\n  Soulless: () => new Character(CharacterSpecies.Soulless, {\r\n    toughness: 4,\r\n    savvy: 1\r\n  }),\r\n  Stalker: () => new Character(CharacterSpecies.Stalker),\r\n  Swift: () => new Character(CharacterSpecies.Swift, {\r\n    speed: 5\r\n  }),\r\n  Traveler: () => new Character(CharacterSpecies.Traveler, {\r\n    reaction: 3,\r\n    toughness: 4,\r\n    savvy: 2\r\n  }),\r\n  UnityAgent: () => new Character(CharacterSpecies.UnityAgent, {\r\n    reaction: 2\r\n  })\r\n}\r\n\r\nexport const CharacterList = Datalist(Characters);\r\n\r\nexport const Classes = {\r\n  WorkingClass: () => new CharacterDetail(`Working Class`, {\r\n    effects: [\r\n      { points: 1, stat: CharacterStat.Savvy },\r\n      { points: 1, stat: CharacterStat.Luck }\r\n    ]\r\n  }),\r\n  Technician: () => new CharacterDetail(`Technician`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    equipment: [EquipmentGenerator.GenerateGear()]\r\n  }),\r\n  Scientist: () => new CharacterDetail(`Scientist`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    equipment: [EquipmentGenerator.GenerateGadget()]\r\n  }),\r\n  Hacker: () => new CharacterDetail(`Hacker`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    resources: new CampaignResource({ rivals: 1 })\r\n  }),\r\n  Soldier: () => new CharacterDetail(`Soldier`, {\r\n    effects: [{ points: 1, stat: CharacterStat.CombatSkill }],\r\n    resources: new CampaignResource({ credits: d6() })\r\n  }),\r\n  Mercenary: () => new CharacterDetail(`Mercenary`, {\r\n    effects: [{ points: 1, stat: CharacterStat.CombatSkill }],\r\n    weapons: [WeaponGenerator.GenerateMilitary()]\r\n  }),\r\n  Agitator: () => new CharacterDetail(`Agitator`, {\r\n    resources: new CampaignResource({ rivals: 1 })\r\n  }),\r\n  Primitive: () => new CharacterDetail(`Primitive`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Speed }],\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  Artist: () => new CharacterDetail(`Artist`, {\r\n    resources: new CampaignResource({ credits: d6() })\r\n  }),\r\n  Negotiator: () => new CharacterDetail(`Negotiator`, {\r\n    resources: new CampaignResource({ patrons: 1, storyPoints: 1 })\r\n  }),\r\n  Trader: () => new CharacterDetail(`Trader`, {\r\n    resources: new CampaignResource({ credits: dice({ six: 2 }).total })\r\n  }),\r\n  StarshipCrew: () => new CharacterDetail(`Starship Crew`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }]\r\n  }),\r\n  PettyCriminal: () => new CharacterDetail(`Petty Criminal`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Speed }]\r\n  }),\r\n  Ganger: () => new CharacterDetail(`Ganger`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Reactions }],\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  Scoundrel: () => new CharacterDetail(`Scoundrel`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Speed }]\r\n  }),\r\n  Enforcer: () => new CharacterDetail(`Enforcer`, {\r\n    effects: [{ points: 1, stat: CharacterStat.CombatSkill }],\r\n    resources: new CampaignResource({ patrons: 1 })\r\n  }),\r\n  SpecialAgent: () => new CharacterDetail(`Special Agent`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Reactions }],\r\n    resources: new CampaignResource({ patrons: 1 }),\r\n    equipment: [EquipmentGenerator.GenerateGadget()]\r\n  }),\r\n  Troubleshooter: () => new CharacterDetail(`Troubleshooter`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Reactions }],\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  BountyHunter: () => new CharacterDetail(`Bounty Hunter`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Speed }],\r\n    resources: new CampaignResource({ rumors: 1 }),\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  Nomad: () => new CharacterDetail(`Nomad`, {\r\n    equipment: [EquipmentGenerator.GenerateGear()]\r\n  }),\r\n  Explorer: () => new CharacterDetail(`Explorer`, {\r\n    effects: [{ points: 2, stat: CharacterStat.XP }],\r\n    equipment: [EquipmentGenerator.GenerateGear()]\r\n  }),\r\n  Punk: () => new CharacterDetail(`Punk`, {\r\n    effects: [{ points: 2, stat: CharacterStat.XP }],\r\n    resources: new CampaignResource({ rivals: 1 })\r\n  }),\r\n  Scavenger: () => new CharacterDetail(`Scavenger`, {\r\n    resources: new CampaignResource({ rumors: 1 }),\r\n    weapons: [WeaponGenerator.GenerateHighTech()]\r\n  })\r\n}\r\n\r\nexport const ClassList = Datalist(Classes);\r\n\r\nexport const Motivations = {\r\n  Wealth: () => new CharacterDetail(`Wealth`, {\r\n    resources: new CampaignResource({ credits: d6() })\r\n  }),\r\n  Fame: () => new CharacterDetail(`Fame`, {\r\n    resources: new CampaignResource({ storyPoints: 1 })\r\n  }),\r\n  Glory: () => new CharacterDetail(`Glory`, {\r\n    effects: [{ points: 1, stat: CharacterStat.CombatSkill }],\r\n    weapons: [WeaponGenerator.GenerateMilitary()]\r\n  }),\r\n  Survival: () => new CharacterDetail(`Survival`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Toughness }]\r\n  }),\r\n  Escape: () => new CharacterDetail(`Escape`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Speed }]\r\n  }),\r\n  Adventure: () => new CharacterDetail(`Adventure`, {\r\n    resources: new CampaignResource({ credits: d6() }),\r\n    weapons: [WeaponGenerator.GenerateLowTech()]\r\n  }),\r\n  Truth: () => new CharacterDetail(`Truth`, {\r\n    resources: new CampaignResource({\r\n      rumors: 1,\r\n      storyPoints: 1\r\n    })\r\n  }),\r\n  Technology: () => new CharacterDetail(`Technology`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    equipment: [EquipmentGenerator.GenerateGadget()]\r\n  }),\r\n  Discovery: () => new CharacterDetail(`Discovery`, {\r\n    effects: [{ points: 1, stat: CharacterStat.Savvy }],\r\n    equipment: [EquipmentGenerator.GenerateGear()]\r\n  }),\r\n  Loyalty: () => new CharacterDetail(`Loyalty`, {\r\n    resources: new CampaignResource({ patrons: 1, storyPoints: 1 })\r\n  }),\r\n  Revenge: () => new CharacterDetail(`Revenge`, {\r\n    effects: [{ points: 2, stat: CharacterStat.XP }],\r\n    resources: new CampaignResource({ rivals: 1 })\r\n  }),\r\n  Romance: () => new CharacterDetail(`Romance`, {\r\n    resources: new CampaignResource({ rumors: 1, storyPoints: 1 })\r\n  }),\r\n  Faith: () => new CharacterDetail(`Faith`, {\r\n    resources: new CampaignResource({ rumors: 1, storyPoints: 1 })\r\n  }),\r\n  Political: () => new CharacterDetail(`Political`, {\r\n    resources: new CampaignResource({ patrons: 1, storyPoints: 1 })\r\n  }),\r\n  Power: () => new CharacterDetail(`Power`, {\r\n    effects: [{ points: 2, stat: CharacterStat.XP }],\r\n    resources: new CampaignResource({ rivals: 1 })\r\n  }),\r\n  Order: () => new CharacterDetail(`Order`, {\r\n    resources: new CampaignResource({ patrons: 1, storyPoints: 1 })\r\n  }),\r\n  Freedom: () => new CharacterDetail(`Freedom`, {\r\n    effects: [{ points: 2, stat: CharacterStat.XP }]\r\n  })\r\n}\r\n\r\nexport const MotivationList = Datalist(Motivations);\r\n","import { ShipTrait } from '../enums';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nexport class Ship {\r\n  private _damage: number = 0;\r\n  get damage(): number { return this._damage; }\r\n  set damage(value: number) {\r\n    this._damage = value;\r\n  }\r\n\r\n  readonly id: string;\r\n  readonly model: string;\r\n  readonly debt: number;\r\n  readonly hull: number;\r\n  readonly trait: ShipTrait | null;\r\n\r\n  name!: string;\r\n\r\n  constructor(\r\n    model: string,\r\n    debt: number,\r\n    hull: number,\r\n    trait: ShipTrait | null = null,\r\n    id: string | null = null\r\n  ) {\r\n    this.id = id ?? uuid();\r\n    this.model = model;\r\n    this.debt = debt;\r\n    this.hull = hull;\r\n    this.trait = trait;\r\n  }\r\n\r\n  static Restore = (val: any): Ship => {\r\n    const res = new Ship(\r\n      val.model,\r\n      val.debt,\r\n      val.hull,\r\n      val.trait,\r\n      val.id\r\n    );\r\n\r\n    res.damage = val.damage;\r\n\r\n    return res;\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      id: this.id,\r\n      model: this.model,\r\n      debt: this.debt,\r\n      hull: this.hull,\r\n      trait: this.trait,\r\n      damage: this.damage\r\n    }\r\n  }\r\n}\r\n","import { ShipTrait } from '../enums';\r\nimport { Ship } from '../models/ship';\r\n\r\nimport {\r\n  d6,\r\n  Datalist\r\n} from '../core';\r\n\r\nexport const Ships = {\r\n  WornFreighter: () => new Ship(\"Worn freighter\", d6() + 20, 30),\r\n  RetiredTroopTransport: () => new Ship(\"Retired troop transport\", d6() + 30, 35),\r\n  StrangeAlienVessel: () => new Ship(\"Strange alien vessel\", d6() + 15, 25),\r\n  UpgradedShuttle: () => new Ship(\"Upgraded shuttle\", d6() + 10, 20),\r\n  RetiredScoutShip: () => new Ship(\"Retired scout ship\", d6() + 20, 25, ShipTrait.FuelEfficient),\r\n  RepurposedScienceVessel: () => new Ship(\"Repurposed science vessel\", d6() + 10, 20),\r\n  BatteredMiningShip: () => new Ship(\"Battered mining ship\", d6() + 20, 35, ShipTrait.FuelHog),\r\n  UnreliableMerchantCruiser: () => new Ship(\"Unreliable merchant cruiser\", d6() + 20, 30),\r\n  FormerDiplomaticVessel: () => new Ship(\"Former diplomatic vessel\", d6() + 15, 25),\r\n  AncientLowTechCraft: () => new Ship(\"Ancient low-tech craft\", d6() + 20, 35, ShipTrait.DodgyDrive),\r\n  BuiltFromSalvagedWrecks: () => new Ship(\"Built from salvaged wrecks\", d6() + 20, 30),\r\n  WornColonyShip: () => new Ship(\"Worn colony ship\", d6() + 20, 25, ShipTrait.StandardIssue),\r\n  RetiredMilitaryPatrolShip: () => new Ship(\"Retired military patrol ship\", d6() + 35, 40, ShipTrait.Armored)\r\n}\r\n\r\nexport const ShipList = Datalist(Ships);\r\n","import {\r\n  d100,\r\n  Generator,\r\n  GeneratorOption\r\n} from '../core';\r\n\r\nimport {\r\n  Backgrounds,\r\n  Characters,\r\n  Classes,\r\n  Motivations\r\n} from '../data/character.data';\r\n\r\nimport {\r\n  CharacterRace,\r\n  CharacterSpecies,\r\n  CharacterStat\r\n} from '../enums';\r\n\r\nimport { CampaignResource } from '../models/campaign/campaign-resource';\r\n\r\nimport {\r\n  Character,\r\n  CharacterDetail\r\n} from '../models/character';\r\n\r\nexport abstract class CharacterGenerator {\r\n  private static savvyUpgraded = (details: CharacterDetail[]) =>\r\n    details\r\n      .some(d =>\r\n        d.effects\r\n        && d.effects.some(e => e.points > 0 && e.stat === CharacterStat.Savvy)\r\n      );\r\n\r\n  static GenerateRoster = (size: number): Character[] => {\r\n    const roster = new Array<Character>();\r\n\r\n    for (var i = 0; i < size; i++)\r\n      roster.push(this.GenerateCharacter())\r\n\r\n    return roster;\r\n  }\r\n\r\n  static DevelopCharacter = (character: Character): { resources: CampaignResource, savvyUpgraded: boolean } => {\r\n    if (character.race === CharacterRace.Bot) {\r\n      character.background = 'NULL_REFERENCE_EXCEPTION';\r\n      character.motivation = 'ROBOTS_ARE_NOT_SENTIENT';\r\n      character.charClass = 'ASSIGNED_FUNCTIONALITY';\r\n\r\n      return { resources: new CampaignResource(), savvyUpgraded: false };\r\n    } else {\r\n      const details = [\r\n        this.DevelopBackground(character),\r\n        this.DevelopMotivation(character),\r\n        this.DevelopClass(character)\r\n      ]\r\n\r\n      const resources = new CampaignResource();\r\n      resources.consolidate(details.map(d => d.resources));\r\n\r\n      let savvyUpgraded: boolean;\r\n\r\n      switch (character.species) {\r\n        case CharacterSpecies.DeConverted:\r\n          savvyUpgraded = false;\r\n          break;\r\n        case CharacterSpecies.MinorAlien:\r\n          if (resources.credits)\r\n            resources.credits -= 1;\r\n          if (resources.storyPoints)\r\n            resources.storyPoints -= 1;\r\n\r\n          savvyUpgraded = this.savvyUpgraded(details);\r\n          break;\r\n        case CharacterSpecies.Traveler:\r\n          resources.storyPoints = (resources.storyPoints ?? 0) + 2;\r\n          resources.rumors = (resources.rumors ?? 0) + 2;\r\n\r\n          savvyUpgraded = this.savvyUpgraded(details);\r\n          break;\r\n        default:\r\n          savvyUpgraded = this.savvyUpgraded(details);\r\n          break;\r\n      }\r\n\r\n      return {\r\n        resources,\r\n        savvyUpgraded\r\n      };\r\n    }\r\n  }\r\n\r\n  static DevelopBackground = (character: Character): CharacterDetail => {\r\n    let b: CharacterDetail;\r\n    let roll: number;\r\n\r\n    switch (character.species) {\r\n      case CharacterSpecies.MysteriousPast:\r\n        b = this.GenerateBackground();\r\n        b.merge(this.GenerateBackground());\r\n\r\n        if (b.resources?.storyPoints)\r\n          b.resources.storyPoints = 0;\r\n\r\n        break;\r\n      case CharacterSpecies.Mutant:\r\n        b = Backgrounds.LowerMegacityClass();\r\n        break;\r\n      case CharacterSpecies.Manipulator:\r\n        b = Backgrounds.Bureaucrat();\r\n        break;\r\n      case CharacterSpecies.Primitive:\r\n        b = Backgrounds.PrimitiveOrRegressedWorld();\r\n        break;\r\n      case CharacterSpecies.BioUpgrade:\r\n        b = this.GenerateBackground();\r\n        if (b.resources?.credits)\r\n          b.resources.credits >= 2\r\n            ? b.resources.credits -= 2\r\n            : b.resources.credits = 0;\r\n        break;\r\n      default:\r\n        b = this.GenerateBackground();\r\n        break;\r\n    }\r\n\r\n    character.background = b.detail;\r\n    character.applyDetail(b);\r\n\r\n    return b;\r\n  }\r\n\r\n  static DevelopMotivation = (character: Character): CharacterDetail => {\r\n    let m: CharacterDetail;\r\n\r\n    switch (character.species) {\r\n      case CharacterSpecies.DeConverted:\r\n        m = Motivations.Revenge();\r\n        break;\r\n      case CharacterSpecies.UnityAgent:\r\n        m = Motivations.Order();\r\n        break;\r\n      case CharacterSpecies.MysteriousPast:\r\n        m = this.GenerateMotivation();\r\n        if (m.resources?.storyPoints)\r\n          m.resources.storyPoints = 0;\r\n        break;\r\n      case CharacterSpecies.Feeler:\r\n        m = this.GenerateMotivation();\r\n        m.merge(this.GenerateMotivation());\r\n        break;\r\n      case CharacterSpecies.EmoSuppressed:\r\n        m = Motivations.Survival();\r\n        break;\r\n      case CharacterSpecies.Traveler:\r\n        m = Motivations.Truth();\r\n        break;\r\n      default:\r\n        m = this.GenerateMotivation();\r\n    }\r\n\r\n    character.motivation = m.detail;\r\n    character.applyDetail(m);\r\n\r\n    return m;\r\n  }\r\n\r\n  static DevelopClass = (character: Character): CharacterDetail => {\r\n    let c: CharacterDetail;\r\n\r\n    switch (character.species) {\r\n      case CharacterSpecies.MysteriousPast:\r\n        c = this.GenerateClass();\r\n        if (c.resources?.storyPoints)\r\n          c.resources.storyPoints = 0;\r\n\r\n        break;\r\n      case CharacterSpecies.Hulker:\r\n        c = this.GenerateClass();\r\n\r\n        switch (c.detail) {\r\n          case \"Technician\":\r\n          case \"Scientist\":\r\n          case \"Hacker\":\r\n            c = Classes.Primitive();\r\n        }\r\n\r\n        break;\r\n      default:\r\n        c = this.GenerateClass();\r\n        break;\r\n    }\r\n\r\n    character.charClass = c.detail;\r\n    character.applyDetail(c);\r\n\r\n    return c;\r\n  }\r\n\r\n  static GenerateCharacter = (): Character =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 60], Characters.Human()\r\n      ),\r\n      new GeneratorOption(\r\n        [61, 80], this.GenerateAlien()\r\n      ),\r\n      new GeneratorOption(\r\n        [81, 90], Characters.Bot()\r\n      ),\r\n      new GeneratorOption(\r\n        [91, 100], this.GenerateStrange()\r\n      )\r\n    ]);\r\n\r\n  static GenerateAlien = (): Character =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 20], Characters.Engineer()\r\n      ),\r\n      new GeneratorOption(\r\n        [21, 40], Characters.KErin()\r\n      ),\r\n      new GeneratorOption(\r\n        [41, 55], Characters.Soulless()\r\n      ),\r\n      new GeneratorOption(\r\n        [56, 70], Characters.Precursor()\r\n      ),\r\n      new GeneratorOption(\r\n        [71, 90], Characters.Feral()\r\n      ),\r\n      new GeneratorOption(\r\n        [91, 100], Characters.Swift()\r\n      )\r\n    ]);\r\n\r\n  static GenerateStrange = (): Character =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 2], Characters.DeConverted()\r\n      ),\r\n      new GeneratorOption(\r\n        [3, 8], Characters.UnityAgent()\r\n      ),\r\n      new GeneratorOption(\r\n        [9, 17], Characters.MysteriousPast()\r\n      ),\r\n      new GeneratorOption(\r\n        [18, 22], Characters.Hakshan()\r\n      ),\r\n      new GeneratorOption(\r\n        [23, 27], Characters.Stalker()\r\n      ),\r\n      new GeneratorOption(\r\n        [28, 34], Characters.Hulker()\r\n      ),\r\n      new GeneratorOption(\r\n        [35, 41], Characters.HopefulRookie()\r\n      ),\r\n      new GeneratorOption(\r\n        [42, 47], Characters.GeneticUplift()\r\n      ),\r\n      new GeneratorOption(\r\n        [48, 53], Characters.Mutant()\r\n      ),\r\n      new GeneratorOption(\r\n        [54, 58], Characters.AssaultBot()\r\n      ),\r\n      new GeneratorOption(\r\n        [59, 62], Characters.Manipulator()\r\n      ),\r\n      new GeneratorOption(\r\n        [63, 67], Characters.Primitive()\r\n      ),\r\n      new GeneratorOption(\r\n        [68, 73], Characters.Feeler()\r\n      ),\r\n      new GeneratorOption(\r\n        [74, 79], Characters.EmoSuppressed()\r\n      ),\r\n      new GeneratorOption(\r\n        [80, 85], Characters.MinorAlien()\r\n      ),\r\n      new GeneratorOption(\r\n        [86, 87], Characters.Traveler()\r\n      ),\r\n      new GeneratorOption(\r\n        [88, 93], Characters.Empath()\r\n      ),\r\n      new GeneratorOption(\r\n        [94, 100], Characters.BioUpgrade()\r\n      )\r\n    ]);\r\n\r\n  static GenerateBackground = (): CharacterDetail =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 4], Backgrounds.PeacefulHighTechColony()\r\n      ),\r\n      new GeneratorOption(\r\n        [5, 9], Backgrounds.GiantOvercrowdedDystopianCity()\r\n      ),\r\n      new GeneratorOption(\r\n        [10, 13], Backgrounds.LowTechColony()\r\n      ),\r\n      new GeneratorOption(\r\n        [14, 17], Backgrounds.MiningColony()\r\n      ),\r\n      new GeneratorOption(\r\n        [18, 21], Backgrounds.MilitaryBrat()\r\n      ),\r\n      new GeneratorOption(\r\n        [22, 25], Backgrounds.SpaceStation()\r\n      ),\r\n      new GeneratorOption(\r\n        [26, 29], Backgrounds.MilitaryOutpost()\r\n      ),\r\n      new GeneratorOption(\r\n        [30, 34], Backgrounds.Drifter()\r\n      ),\r\n      new GeneratorOption(\r\n        [35, 39], Backgrounds.LowerMegacityClass()\r\n      ),\r\n      new GeneratorOption(\r\n        [40, 42], Backgrounds.WealthyMerchantFamily()\r\n      ),\r\n      new GeneratorOption(\r\n        [43, 46], Backgrounds.FrontierGang()\r\n      ),\r\n      new GeneratorOption(\r\n        [47, 49], Backgrounds.ReligiousCult()\r\n      ),\r\n      new GeneratorOption(\r\n        [50, 52], Backgrounds.WarTornHellHole()\r\n      ),\r\n      new GeneratorOption(\r\n        [53, 55], Backgrounds.TechGuild()\r\n      ),\r\n      new GeneratorOption(\r\n        [56, 59], Backgrounds.SubjugatedColonyOnAlienWorld()\r\n      ),\r\n      new GeneratorOption(\r\n        [60, 64], Backgrounds.LongTermSpaceMission()\r\n      ),\r\n      new GeneratorOption(\r\n        [65, 68], Backgrounds.ResearchOutpost()\r\n      ),\r\n      new GeneratorOption(\r\n        [69, 72], Backgrounds.PrimitiveOrRegressedWorld()\r\n      ),\r\n      new GeneratorOption(\r\n        [73, 76], Backgrounds.OrphanUtilityProgram()\r\n      ),\r\n      new GeneratorOption(\r\n        [77, 80], Backgrounds.IsolationistEnclave()\r\n      ),\r\n      new GeneratorOption(\r\n        [81, 84], Backgrounds.ComfortableMegacityClass()\r\n      ),\r\n      new GeneratorOption(\r\n        [85, 89], Backgrounds.IndustrialWorld()\r\n      ),\r\n      new GeneratorOption(\r\n        [90, 93], Backgrounds.Bureaucrat()\r\n      ),\r\n      new GeneratorOption(\r\n        [94, 97], Backgrounds.WastelandNomads()\r\n      ),\r\n      new GeneratorOption(\r\n        [97, 100], Backgrounds.AlienCulture()\r\n      )\r\n    ]);\r\n\r\n  static GenerateMotivation = (): CharacterDetail =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 8], Motivations.Wealth()\r\n      ),\r\n      new GeneratorOption(\r\n        [9, 14], Motivations.Fame()\r\n      ),\r\n      new GeneratorOption(\r\n        [15, 19], Motivations.Glory()\r\n      ),\r\n      new GeneratorOption(\r\n        [20, 26], Motivations.Survival()\r\n      ),\r\n      new GeneratorOption(\r\n        [27, 32], Motivations.Escape()\r\n      ),\r\n      new GeneratorOption(\r\n        [33, 39], Motivations.Adventure()\r\n      ),\r\n      new GeneratorOption(\r\n        [40, 44], Motivations.Truth()\r\n      ),\r\n      new GeneratorOption(\r\n        [45, 49], Motivations.Technology()\r\n      ),\r\n      new GeneratorOption(\r\n        [50, 56], Motivations.Discovery()\r\n      ),\r\n      new GeneratorOption(\r\n        [57, 63], Motivations.Loyalty()\r\n      ),\r\n      new GeneratorOption(\r\n        [64, 69], Motivations.Revenge()\r\n      ),\r\n      new GeneratorOption(\r\n        [70, 74], Motivations.Romance()\r\n      ),\r\n      new GeneratorOption(\r\n        [75, 79], Motivations.Faith()\r\n      ),\r\n      new GeneratorOption(\r\n        [80, 84], Motivations.Political()\r\n      ),\r\n      new GeneratorOption(\r\n        [85, 90], Motivations.Power()\r\n      ),\r\n      new GeneratorOption(\r\n        [91, 95], Motivations.Order()\r\n      ),\r\n      new GeneratorOption(\r\n        [96, 100], Motivations.Freedom()\r\n      )\r\n    ]);\r\n\r\n  static GenerateClass = (): CharacterDetail =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 5], Classes.WorkingClass()\r\n      ),\r\n      new GeneratorOption(\r\n        [6, 9], Classes.Technician()\r\n      ),\r\n      new GeneratorOption(\r\n        [10, 13], Classes.Scientist()\r\n      ),\r\n      new GeneratorOption(\r\n        [14, 17], Classes.Hacker()\r\n      ),\r\n      new GeneratorOption(\r\n        [18, 22], Classes.Soldier()\r\n      ),\r\n      new GeneratorOption(\r\n        [23, 27], Classes.Mercenary()\r\n      ),\r\n      new GeneratorOption(\r\n        [28, 32], Classes.Agitator()\r\n      ),\r\n      new GeneratorOption(\r\n        [33, 36], Classes.Primitive()\r\n      ),\r\n      new GeneratorOption(\r\n        [37, 40], Classes.Artist()\r\n      ),\r\n      new GeneratorOption(\r\n        [41, 44], Classes.Negotiator()\r\n      ),\r\n      new GeneratorOption(\r\n        [45, 49], Classes.Trader()\r\n      ),\r\n      new GeneratorOption(\r\n        [50, 54], Classes.StarshipCrew()\r\n      ),\r\n      new GeneratorOption(\r\n        [55, 58], Classes.PettyCriminal()\r\n      ),\r\n      new GeneratorOption(\r\n        [59, 63], Classes.Ganger()\r\n      ),\r\n      new GeneratorOption(\r\n        [64, 67], Classes.Scoundrel()\r\n      ),\r\n      new GeneratorOption(\r\n        [68, 71], Classes.Enforcer()\r\n      ),\r\n      new GeneratorOption(\r\n        [72, 75], Classes.SpecialAgent()\r\n      ),\r\n      new GeneratorOption(\r\n        [76, 79], Classes.Troubleshooter()\r\n      ),\r\n      new GeneratorOption(\r\n        [80, 83], Classes.BountyHunter()\r\n      ),\r\n      new GeneratorOption(\r\n        [84, 88], Classes.Nomad()\r\n      ),\r\n      new GeneratorOption(\r\n        [89, 92], Classes.Explorer()\r\n      ),\r\n      new GeneratorOption(\r\n        [93, 96], Classes.Punk()\r\n      ),\r\n      new GeneratorOption(\r\n        [97, 100], Classes.Scavenger()\r\n      )\r\n    ]);\r\n}\r\n","import { Ships } from '../data/ship.data';\r\nimport { Ship } from '../models/ship';\r\n\r\nimport {\r\n  d100,\r\n  Generator,\r\n  GeneratorOption\r\n} from '../core';\r\n\r\nexport abstract class ShipGenerator {\r\n  static Generate = (): Ship =>\r\n    Generator(d100, [\r\n      new GeneratorOption(\r\n        [1, 12], Ships.WornFreighter()\r\n      ),\r\n      new GeneratorOption(\r\n        [13, 18], Ships.RetiredTroopTransport()\r\n      ),\r\n      new GeneratorOption(\r\n        [19, 23], Ships.StrangeAlienVessel()\r\n      ),\r\n      new GeneratorOption(\r\n        [24, 31], Ships.UpgradedShuttle()\r\n      ),\r\n      new GeneratorOption(\r\n        [32, 38], Ships.RetiredScoutShip()\r\n      ),\r\n      new GeneratorOption(\r\n        [39, 45], Ships.RepurposedScienceVessel()\r\n      ),\r\n      new GeneratorOption(\r\n        [46, 56], Ships.BatteredMiningShip()\r\n      ),\r\n      new GeneratorOption(\r\n        [57, 65], Ships.UnreliableMerchantCruiser()\r\n      ),\r\n      new GeneratorOption(\r\n        [66, 70], Ships.FormerDiplomaticVessel()\r\n      ),\r\n      new GeneratorOption(\r\n        [71, 76], Ships.AncientLowTechCraft()\r\n      ),\r\n      new GeneratorOption(\r\n        [77, 84], Ships.BuiltFromSalvagedWrecks()\r\n      ),\r\n      new GeneratorOption(\r\n        [85, 95], Ships.WornColonyShip()\r\n      ),\r\n      new GeneratorOption(\r\n        [96, 100], Ships.RetiredMilitaryPatrolShip()\r\n      )\r\n    ]);\r\n}\r\n","import { Character } from './character';\r\n\r\nimport {\r\n  Equipment,\r\n  Weapon\r\n} from './equipment';\r\n\r\nexport class Crew {\r\n  roster: Character[];\r\n  stash: Equipment[];\r\n  armory: Weapon[];\r\n\r\n  private _leader: Character | null;\r\n  get leader(): Character | null { return this._leader; }\r\n\r\n  set leader(character: Character | null) {\r\n    if (this._leader && character)\r\n      return;\r\n\r\n    this._leader = character;\r\n\r\n    if (character)\r\n      character.promoteLeader();\r\n  }\r\n\r\n  constructor({\r\n    stash = new Array<Equipment>(),\r\n    armory = new Array<Weapon>(),\r\n    roster = new Array<Character>(),\r\n    leader = null\r\n  }: Partial<Crew> = {}) {\r\n    this.stash = stash;\r\n    this.armory = armory;\r\n    this.roster = roster;\r\n    this._leader = leader;\r\n  }\r\n\r\n  clearRoster = () => this.roster = this.roster.length > 0\r\n    ? this.roster = new Array<Character>()\r\n    : this.roster;\r\n\r\n  addCharacter = (character: Character) =>\r\n    !(this.roster.some(c => c.id === character.id))\r\n    && this.roster.push(character);\r\n\r\n  addCharacters = (characters: Character[]) =>\r\n    characters.forEach(c => this.addCharacter(c));\r\n\r\n  removeCharacter = (character: Character) =>\r\n    this.roster = this.roster.filter(c => !(c.id === character.id));\r\n\r\n  removeCharacters = (characters: Character[]) =>\r\n    this.roster = this.roster.filter(c =>\r\n      !characters.includes(c)\r\n    );\r\n\r\n  static Restore = (val: any) =>\r\n    new Crew({\r\n      roster: val.roster.map((c: any) => Character.Restore(c)),\r\n      stash: val.stash.map((e: any) => Equipment.Restore(e)),\r\n      armory: val.armory.map((w: any) => Weapon.Restore(w)),\r\n      leader: Character.Restore(val.leader)\r\n    });\r\n\r\n  toJSON() {\r\n    return {\r\n      roster: this.roster,\r\n      stash: this.stash,\r\n      armory: this.armory,\r\n      leader: this.leader\r\n    }\r\n  }\r\n}\r\n","import { CampaignConfig } from './campaign-config';\r\nimport { Crew } from '../crew';\r\nimport { CampaignResource } from './campaign-resource';\r\nimport { Difficulty } from '../../enums';\r\nimport { ShipGenerator } from '../../generators';\r\nimport { Ship } from '../ship';\r\nimport { VictoryCondition } from './victory-condition';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nexport class Campaign {\r\n  readonly id: string;\r\n  readonly crewSize: number;\r\n  readonly useStars: boolean;\r\n  readonly useStory: boolean;\r\n  readonly difficulty: Difficulty;\r\n  readonly crew: Crew;\r\n  readonly ship: Ship;\r\n  readonly victory: VictoryCondition | null;\r\n\r\n  name: string;\r\n  resources: CampaignResource;\r\n\r\n  constructor(\r\n    {\r\n      name = '',\r\n      crewSize = 6,\r\n      useStory = true,\r\n      useStars = true,\r\n      difficulty = Difficulty.Normal,\r\n      crew = new Crew(),\r\n      ship = ShipGenerator.Generate(),\r\n      victory = null\r\n    }: Partial<CampaignConfig> = {},\r\n    resources: CampaignResource,\r\n    id: string | null = null\r\n  ) {\r\n    this.id = id ?? uuid();\r\n    this.name = name;\r\n    this.crewSize = crewSize;\r\n    this.useStory = useStory;\r\n    this.useStars = useStars;\r\n    this.difficulty = difficulty;\r\n    this.crew = crew;\r\n    this.ship = ship;\r\n    this.victory = victory;\r\n\r\n    this.resources = resources;\r\n  }\r\n\r\n  static Restore = (val: any): Campaign =>\r\n    new Campaign(\r\n      {\r\n        name: val.name,\r\n        crewSize: val.crewSize,\r\n        useStory: val.useStory,\r\n        useStars: val.useStars,\r\n        difficulty: val.difficulty,\r\n        victory: val.victory,\r\n        ship: Ship.Restore(val.ship),\r\n        crew: Crew.Restore(val.crew)\r\n      },\r\n      CampaignResource.Restore(val.resources),\r\n      val.id\r\n    );\r\n\r\n  toJSON() {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      crewSize: this.crewSize,\r\n      useStory: this.useStory,\r\n      useStars: this.useStars,\r\n      difficulty: this.difficulty,\r\n      crew: this.crew,\r\n      ship: this.ship,\r\n      victory: this.victory,\r\n      resources: this.resources\r\n    }\r\n  }\r\n}\r\n","import { Campaign } from './campaign';\r\nimport { CampaignResource } from './campaign-resource';\r\nimport { Character } from '../character/character';\r\nimport { d6 } from '../../core';\r\nimport { Crew } from '../crew';\r\nimport { AvailableVictoryConditions } from '../../data/campaign.data';\r\nimport { Difficulty } from '../../enums';\r\nimport { CharacterGenerator } from '../../generators/character.generator';\r\nimport { EquipmentGenerator } from '../../generators/equipment.generator';\r\nimport { WeaponGenerator } from '../../generators/weapon.generator';\r\nimport { ShipGenerator } from '../../generators/ship.generator';\r\nimport { Ship } from '../ship';\r\nimport { VictoryCondition } from './victory-condition';\r\n\r\nexport class CampaignConfig {\r\n  private readonly minCrew: number = 4;\r\n  private readonly maxCrew: number = 6;\r\n\r\n  private _name: string = '';\r\n  private _crewSize: number = 6;\r\n  private _useStars: boolean = true;\r\n  private _useStory: boolean = true;\r\n  private _difficulty: Difficulty = Difficulty.Normal;\r\n\r\n  get name(): string { return this._name; }\r\n  get crewSize(): number { return this._crewSize; }\r\n  get useStars(): boolean { return this._useStars; }\r\n  get useStory(): boolean { return this._useStory; }\r\n  get difficulty(): Difficulty { return this._difficulty; }\r\n\r\n  readonly crew: Crew = new Crew();\r\n  readonly crewSizeOptions: number[] = [ 4, 5, 6 ]\r\n  readonly savvyUpgradeOptions: number[] = [ 0, 1, 2, 3 ];\r\n\r\n  ship!: Ship;\r\n  victory: VictoryCondition | null = null;\r\n  leader: Character | null = null;\r\n  savvyUpgrades: number = 3;\r\n\r\n  victoryConditions = AvailableVictoryConditions(this.difficulty);\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n    this.initRoster();\r\n  }\r\n\r\n  private containsVictory = (victory: VictoryCondition) =>\r\n    this.victoryConditions\r\n        .map(v => v.value)\r\n        .includes(victory);\r\n\r\n  private updateVictory = (difficulty: Difficulty) => {\r\n    this.victoryConditions = AvailableVictoryConditions(difficulty);\r\n\r\n    if (this.victory && !this.containsVictory(this.victory))\r\n      this.victory = null;\r\n  }\r\n\r\n  private initStoryPoints = (): number => {\r\n    const roll = d6();\r\n\r\n    switch (this.difficulty) {\r\n      case Difficulty.Insanity:\r\n        return 0;\r\n      case Difficulty.Hardcore:\r\n        return roll;\r\n      default:\r\n        return roll + 1;\r\n    }\r\n  }\r\n\r\n  private initRoster = () => {\r\n    if (this.crew.roster.length > 0)\r\n      this.crew.clearRoster();\r\n\r\n    this.crew.addCharacters(CharacterGenerator.GenerateRoster(this.crewSize));\r\n  }\r\n\r\n  set name(value: string) { this._name = value; }\r\n\r\n  set crewSize(value: number) {\r\n    this._crewSize = value > this.maxCrew\r\n      ? this.maxCrew\r\n      : value < this.minCrew\r\n        ? this.minCrew\r\n        : value;\r\n\r\n    this.initRoster();\r\n  }\r\n\r\n  set useStars(value: boolean) {\r\n    this._useStars = this.difficulty === Difficulty.Insanity\r\n      ? false\r\n      : value;\r\n  }\r\n\r\n  set useStory(value: boolean) {\r\n    this._useStory = this.difficulty === Difficulty.Insanity\r\n      ? false\r\n      : value;\r\n  }\r\n\r\n  set difficulty(value: Difficulty) {\r\n    this._difficulty = value;\r\n    this.updateVictory(value);\r\n\r\n    if (value === Difficulty.Insanity) {\r\n      this.useStars = false;\r\n      this.useStory = false;\r\n    }\r\n  }\r\n\r\n  finalize = (): Campaign => {\r\n    console.log('Finalizing campaign...');\r\n    this.ship = ShipGenerator.Generate();\r\n    console.log('Ship', this.ship);\r\n\r\n    const resources = new CampaignResource();\r\n    let savvyUpgrades = 0;\r\n\r\n    for (let character of this.crew.roster) {\r\n      const res = CharacterGenerator.DevelopCharacter(character);\r\n      resources.consolidate([res.resources]);\r\n\r\n      if (res.savvyUpgraded)\r\n        savvyUpgrades += 1;\r\n    }\r\n\r\n    this.savvyUpgrades = savvyUpgrades >= this.savvyUpgrades\r\n      ? this.savvyUpgrades\r\n      : savvyUpgrades;\r\n\r\n    resources.storyPoints = (this.difficulty === Difficulty.Insanity || !this.useStory)\r\n      ? 0\r\n      : resources.storyPoints;\r\n\r\n    resources.storyPoints = (resources.storyPoints ?? 0) + this.initStoryPoints();\r\n    resources.credits = (resources.credits ?? 0) + this.crewSize;\r\n\r\n    this.crew.stash.push(...EquipmentGenerator.GenerateStash());\r\n    this.crew.armory.push(...WeaponGenerator.GenerateArmory());\r\n    this.crew.leader = this.leader;\r\n\r\n    console.log('Campaign Resources', resources);\r\n    console.log('Savvy Upgrades', savvyUpgrades);\r\n    console.log('Leader', this.leader);\r\n    console.log('Crew', this.crew);\r\n\r\n    return new Campaign(this, resources);\r\n  }\r\n}\r\n","import {\r\n  Pipe,\r\n  PipeTransform\r\n} from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'bytes'\r\n})\r\nexport class BytesPipe implements PipeTransform {\r\n  transform(value: number, precision = 2) {\r\n    if (!value || value === 0) return '0 Bytes';\r\n\r\n    const k = 1024,\r\n          dm = precision <= 0 ? 0 : precision || 2,\r\n          sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\r\n          i = Math.floor(Math.log(value) / Math.log(k));\r\n\r\n    return parseFloat((value / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n  }\r\n}\r\n","import {\r\n  Pipe,\r\n  PipeTransform\r\n} from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'truncate'\r\n})\r\nexport class TruncatePipe implements PipeTransform {\r\n  transform(value: string, limit = 50, ellipses = '...') {\r\n    if (!value) return '';\r\n    return value.length <= limit ? value : `${value.substr(0, limit)}${ellipses}`;\r\n  }\r\n}\r\n","import { BytesPipe } from './bytes.pipe';\r\nimport { TruncatePipe } from './truncate.pipe';\r\n\r\nexport const Pipes = [\r\n  BytesPipe,\r\n  TruncatePipe\r\n];\r\n\r\nexport * from './bytes.pipe';\r\nexport * from './truncate.pipe';\r\n","import { HttpHeaders } from '@angular/common/http';\r\n\r\nimport {\r\n  Injectable,\r\n  ElementRef\r\n} from '@angular/core';\r\n\r\nimport {\r\n  fromEvent,\r\n  Observable\r\n} from 'rxjs';\r\n\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  map\r\n} from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreService {\r\n  ssnPattern = /^(?!(000|666|9))\\d{3}-(?!(00))\\d{2}-(?!(0000))\\d{4}$/g;\r\n\r\n  getUploadOptions = (): HttpHeaders => {\r\n    const headers = new HttpHeaders();\r\n    headers.set('Accept', 'application/json');\r\n    headers.delete('Content-Type');\r\n    return headers;\r\n  }\r\n\r\n  getTextOptions = (): HttpHeaders => {\r\n    const headers = new HttpHeaders();\r\n    headers.set('Content-Type', 'text/plain');\r\n    headers.delete('Pragma');\r\n    return headers;\r\n  }\r\n\r\n  urlEncode = (value: string): string => {\r\n    const regex = /[^a-zA-Z0-9-.]/gi;\r\n    let newValue = value.replace(/\\s/g, '-').toLowerCase();\r\n    newValue = newValue.replace(regex, '');\r\n    return newValue;\r\n  }\r\n\r\n  generateInputObservable = (input: ElementRef): Observable<string> =>\r\n    fromEvent(input.nativeElement, 'keyup')\r\n      .pipe(\r\n        debounceTime(300),\r\n        map((event: any) => event.target.value),\r\n        distinctUntilChanged()\r\n      )\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport {\r\n  MatSnackBar,\r\n  MatSnackBarConfig\r\n} from '@angular/material/snack-bar';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SnackerService {\r\n  private config = new MatSnackBarConfig();\r\n\r\n  constructor(private snackbar: MatSnackBar) {\r\n    this.config.duration = 5000;\r\n    this.config.panelClass = [];\r\n  }\r\n\r\n  private sendMessage = (message: string) => this.snackbar.open(message, 'Close', this.config);\r\n\r\n  setDuration(duration: number) {\r\n    this.config.duration = duration;\r\n  }\r\n\r\n  setClasses = (classes: string[]) => {\r\n    classes.push('snacker');\r\n    this.config.panelClass = classes;\r\n  }\r\n\r\n  sendColorMessage = (message: string, colors: string[]) => {\r\n    this.setClasses(colors);\r\n    this.sendMessage(message);\r\n  }\r\n\r\n  sendErrorMessage = (message: string) => {\r\n    this.setClasses(['snacker-red']);\r\n    this.sendMessage(message);\r\n  }\r\n\r\n  sendWarningMessage = (message: string) => {\r\n    this.setClasses(['snacker-orange']);\r\n    this.sendMessage(message);\r\n  }\r\n\r\n  sendSuccessMessage = (message: string) => {\r\n    this.setClasses(['snacker-green']);\r\n    this.sendMessage(message);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { OverlayContainer } from '@angular/cdk/overlay';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  isLight = true;\r\n\r\n  setOverlayContainerTheme = () => {\r\n    if (this.isLight) {\r\n      this.overlay.getContainerElement().classList.remove('app-dark');\r\n      this.overlay.getContainerElement().classList.add('app-light');\r\n    } else {\r\n      this.overlay.getContainerElement().classList.remove('app-light');\r\n      this.overlay.getContainerElement().classList.add('app-dark');\r\n    }\r\n  }\r\n\r\n  toggleTheme = () => {\r\n    this.isLight = !this.isLight;\r\n    this.setOverlayContainerTheme();\r\n  }\r\n\r\n  constructor(\r\n    private overlay: OverlayContainer\r\n  ) {\r\n    this.isLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;\r\n\r\n    window.matchMedia('(prefers-color-scheme: light)')\r\n      .addEventListener('change', (e: MediaQueryListEvent) =>\r\n        this.isLight = e.matches\r\n      );\r\n\r\n    this.setOverlayContainerTheme();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport {\r\n  MatCommonModule,\r\n  MatLineModule,\r\n  MatNativeDateModule,\r\n  MatOptionModule,\r\n  MatPseudoCheckboxModule,\r\n  MatRippleModule\r\n} from '@angular/material/core';\r\n\r\nimport {\r\n  FlexLayoutModule,\r\n  GridModule\r\n} from '@angular/flex-layout';\r\n\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\n\r\n@NgModule({\r\n  exports: [\r\n    DragDropModule,\r\n    FlexLayoutModule,\r\n    GridModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatCommonModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatFormFieldModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatLineModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatOptionModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatPseudoCheckboxModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatStepperModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule\r\n  ]\r\n})\r\nexport class MaterialModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MaterialModule } from './material.module';\r\n\r\nimport { Components } from './components';\r\nimport { Dialogs } from './dialogs';\r\nimport { Directives } from './directives';\r\nimport { Pipes } from './pipes';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ...Components,\r\n    ...Dialogs,\r\n    ...Directives,\r\n    ...Pipes\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MaterialModule\r\n  ],\r\n  exports: [\r\n    ...Components,\r\n    ...Dialogs,\r\n    ...Directives,\r\n    ...Pipes,\r\n    MaterialModule\r\n  ]\r\n})\r\nexport class CoreModule { }\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["_c0","uuid","_a","i1"],"sourceRoot":"webpack:///"}